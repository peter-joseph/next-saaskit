import{r as f,R as o}from"./iframe-CU8xeqI0.js";import{a as ot,$ as it}from"./Button-BrOy0xnO.js";import{f as dt}from"./RSPContexts-Cb8v2GW5.js";import{b as st,n as oe,f as U,i as ct,a as ie,c as Z,d as de,g as be,q as ut,h as se}from"./index--cEjw2F8.js";import{$ as ce,a as pt}from"./Collection-CSAA-cSF.js";import{$ as J,a as ft,b as mt,c as ht,d as gt}from"./DragAndDrop-CSQ-XNrz.js";import{$ as bt,a as yt}from"./SelectionIndicator-DSrY1PCk.js";import{$ as vt,a as $t,d as xt,i as wt,b as ye,c as ve,h as kt}from"./CollectionBuilder-CqpCgdcI.js";import{$ as Dt}from"./inertValue-C-gYg6Mq.js";import{$ as Et}from"./useControlledState-B_NIEXLA.js";import{a as Tt,$ as St}from"./useGridListItem-C6kxWZYz.js";import{$ as It}from"./useLabels-BGoq_q9X.js";import{$ as Ct}from"./useLocalizedStringFormatter-DkPuMiER.js";import{g as Pt,f as ne}from"./useFocusRing-DE7Uj8W9.js";import{a as Rt}from"./FocusScope-D9BfRzh9.js";import{$ as Kt}from"./useGridListSelectionCheckbox-WZfySWdE.js";import{$ as ue}from"./VisuallyHidden-BvZf1tuv.js";import{$ as Mt}from"./context-m9Gn5ytb.js";import{$ as Vt}from"./useCollator-gwSaxy3e.js";import{$ as Nt}from"./useTreeState-qfI-7F1a.js";import{$ as qt}from"./ListKeyboardDelegate-CUS_IIMN.js";import{C as At}from"./Checkbox-BbB6QNPZ.js";import{c as _t,f as $e}from"./utils-BzjcJXmQ.js";import{C as Lt}from"./chevron-right-nlvdF16y.js";import"./preload-helper-PPVm8Dsz.js";import"./ProgressBar-aVXJ3x9A.js";import"./Label-CVSH6YHI.js";import"./Hidden-BgCbMR3U.js";import"./NumberFormatter-ZLOyqEzC.js";import"./useProgressBar-DzGpjcso.js";import"./useLabel-cGTIkrae.js";import"./useNumberFormatter-crW63QVH.js";import"./LiveAnnouncer-Cy654hVN.js";import"./useButton-C_xS6hds.js";import"./usePress-DrLrBwbh.js";import"./textSelection-DCjboeH2.js";import"./useKeyboard-GGR2NUhF.js";import"./useFocusable-CobOxc2Q.js";import"./index-DRLwkQ1N.js";import"./index-gA68rWze.js";import"./getScrollParent-Dv367twb.js";import"./scrollIntoView-a0T9WByy.js";import"./index-C8NF5YMv.js";import"./useHighlightSelectionDescription-by1Z4eZC.js";import"./useUpdateEffect-WOPxy-U8.js";import"./useHasTabbableChild-CELFJ2tK.js";import"./useSelectableList-0Fj-zBVt.js";import"./SelectionManager-_B5kdFHh.js";import"./useEvent-MFIYR3wA.js";import"./LocalizedStringFormatter-SbeEPSWK.js";import"./useGridSelectionCheckbox-HnT2krnE.js";import"./FieldError-B1iCp6qp.js";import"./Text-CdFfSw-L.js";import"./Form-dN1NAUYx.js";import"./useFormValidation-C2rY3olp.js";import"./useToggle-C-nfBMi7.js";import"./useFormReset-C7-1DhHl.js";import"./useToggleState-Bqe-IpVS.js";import"./useField-jhcA4gsM.js";import"./createLucideIcon-DXkv7S7S.js";import"./check-BvOjvmaW.js";function Ft(n,t,a){let{gridProps:e}=Tt(n,t,a);return e.role="treegrid",{gridProps:e}}var xe={};xe={collapse:"طي",expand:"تمديد"};var we={};we={collapse:"Свиване",expand:"Разширяване"};var ke={};ke={collapse:"Sbalit",expand:"Roztáhnout"};var De={};De={collapse:"Skjul",expand:"Udvid"};var Ee={};Ee={collapse:"Reduzieren",expand:"Erweitern"};var Te={};Te={collapse:"Σύμπτυξη",expand:"Ανάπτυξη"};var Se={};Se={expand:"Expand",collapse:"Collapse"};var Ie={};Ie={collapse:"Contraer",expand:"Ampliar"};var Ce={};Ce={collapse:"Ahenda",expand:"Laienda"};var Pe={};Pe={collapse:"Pienennä",expand:"Laajenna"};var Re={};Re={collapse:"Réduire",expand:"Développer"};var Ke={};Ke={collapse:"כווץ",expand:"הרחב"};var Me={};Me={collapse:"Sažmi",expand:"Proširi"};var Ve={};Ve={collapse:"Összecsukás",expand:"Kibontás"};var Ne={};Ne={collapse:"Comprimi",expand:"Espandi"};var qe={};qe={collapse:"折りたたむ",expand:"展開"};var Ae={};Ae={collapse:"접기",expand:"펼치기"};var _e={};_e={collapse:"Sutraukti",expand:"Išskleisti"};var Le={};Le={collapse:"Sakļaut",expand:"Izvērst"};var Fe={};Fe={collapse:"Skjul",expand:"Utvid"};var He={};He={collapse:"Samenvouwen",expand:"Uitvouwen"};var Oe={};Oe={collapse:"Zwiń",expand:"Rozwiń"};var Be={};Be={collapse:"Recolher",expand:"Expandir"};var ze={};ze={collapse:"Colapsar",expand:"Expandir"};var We={};We={collapse:"Restrângeți",expand:"Extindeți"};var Ue={};Ue={collapse:"Свернуть",expand:"Развернуть"};var je={};je={collapse:"Zbaliť",expand:"Rozbaliť"};var Ye={};Ye={collapse:"Strni",expand:"Razširi"};var Xe={};Xe={collapse:" Skupi",expand:"Proširi"};var Ge={};Ge={collapse:"Dölj",expand:"Expandera"};var Ze={};Ze={collapse:"Daralt",expand:"Genişlet"};var Je={};Je={collapse:"Згорнути",expand:"Розгорнути"};var Qe={};Qe={collapse:"折叠",expand:"扩展"};var et={};et={collapse:"收合",expand:"展開"};var tt={};tt={"ar-AE":xe,"bg-BG":we,"cs-CZ":ke,"da-DK":De,"de-DE":Ee,"el-GR":Te,"en-US":Se,"es-ES":Ie,"et-EE":Ce,"fi-FI":Pe,"fr-FR":Re,"he-IL":Ke,"hr-HR":Me,"hu-HU":Ve,"it-IT":Ne,"ja-JP":qe,"ko-KR":Ae,"lt-LT":_e,"lv-LV":Le,"nb-NO":Fe,"nl-NL":He,"pl-PL":Oe,"pt-BR":Be,"pt-PT":ze,"ro-RO":We,"ru-RU":Ue,"sk-SK":je,"sl-SI":Ye,"sr-SP":Xe,"sv-SE":Ge,"tr-TR":Ze,"uk-UA":Je,"zh-CN":Qe,"zh-TW":et};function Ht(n){return n&&n.__esModule?n.default:n}function at(n,t,a){let{node:e}=n,r=St(n,t,a),l=r.rowProps["aria-expanded"]===!0,s=Ct(Ht(tt),"@react-aria/tree"),c=It({"aria-label":l?s.format("collapse"):s.format("expand"),"aria-labelledby":r.rowProps.id}),i={onPress:()=>{r.isDisabled||(t.toggleKey(e.key),t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(e.key))},excludeFromTabOrder:!0,preventFocusOnPress:!0,"data-react-aria-prevent-focus":!0,...c};return{...r,expandButtonProps:i}}const fe=10,me=5;class Ot{setup(t,a,e){this.delegate=t,this.state=a,this.direction=e}getDropTargetFromPoint(t,a,e){let r=this.delegate.getDropTargetFromPoint(t,a,e);return!r||r.type==="root"?r:this.resolveDropTarget(r,t,a,e)}resolveDropTarget(t,a,e,r){let l=this.pointerTracking,s=e-l.lastY,c=a-l.lastX,i=l.yDirection,u=l.xDirection;if(Math.abs(s)>me&&(i=s>0?"down":"up",l.yDirection=i,l.lastY=e),Math.abs(c)>fe&&(u=c>0?"right":"left",l.xDirection=u,l.lastX=a),t.dropPosition==="before"){let g=this.state.collection.getKeyBefore(t.key);if(g!=null){let $={type:"item",key:g,dropPosition:"after"};r($)&&(t=$)}}let d=this.getPotentialTargets(t,r);if(d.length===0)return{type:"root"};let h;return d.length>1?h=this.selectTarget(d,t,a,e,i,u):(h=d[0],l.boundaryContext=null),h}getPotentialTargets(t,a){if(t.dropPosition==="on")return[t];let e=t,r=this.state.collection,l=r.getItem(e.key);for(;l&&l?.type!=="item"&&l.nextKey!=null;)e.key=l.nextKey,l=r.getItem(l.nextKey);let s=[e];if(l&&l.hasChildNodes&&this.state.expandedKeys.has(l.key)&&r.getChildren&&e.dropPosition==="after"){let u=null;for(let d of r.getChildren(l.key))if(d.type==="item"){u=d;break}if(u){const d={type:"item",key:u.key,dropPosition:"before"};return a(d)?[d]:[]}}if(l?.nextKey!=null)return[t];let c=l?.parentKey,i=[];for(;c;){let u=r.getItem(c),d=u?.nextKey?r.getItem(u.nextKey):null;if(!d||d.parentKey!==c){let g={type:"item",key:c,dropPosition:"after"};if(a(g)&&i.push(g),d)break}c=u?.parentKey}if(i.length>0&&s.push(...i),s.length===1){let u=r.getKeyAfter(e.key),d=u?r.getItem(u):null;if(u!=null&&d&&l&&d.level!=null&&l.level!=null&&d.level>l.level){let h={type:"item",key:u,dropPosition:"before"};if(a(h))return[h]}}return s.filter(a)}selectTarget(t,a,e,r,l,s){if(t.length<2)return t[0];let c=this.pointerTracking,i=this.state.collection.getItem(a.key),u=i?.parentKey;if(!u)return t[0];if(!c.boundaryContext||c.boundaryContext.parentKey!==u){let m=c.yDirection==="up"?t.length-1:0;c.boundaryContext={parentKey:u,preferredTargetIndex:m,lastSwitchY:r,lastSwitchX:e}}let d=c.boundaryContext,h=Math.abs(e-d.lastSwitchX);if(Math.abs(r-d.lastSwitchY)>me&&l){let m=d.preferredTargetIndex||0;l==="down"&&m===0?d.preferredTargetIndex=t.length-1:l==="up"&&m===t.length-1&&(d.preferredTargetIndex=0),c.xDirection=null}if(h>fe&&s){let m=d.preferredTargetIndex||0;s==="left"?this.direction==="ltr"?m<t.length-1&&(d.preferredTargetIndex=m+1,d.lastSwitchX=e):m>0&&(d.preferredTargetIndex=m-1,d.lastSwitchX=e):s==="right"&&(this.direction==="ltr"?m>0&&(d.preferredTargetIndex=m-1,d.lastSwitchX=e):m<t.length-1&&(d.preferredTargetIndex=m+1,d.lastSwitchX=e)),c.yDirection=null}let $=Math.max(0,Math.min(d.preferredTargetIndex||0,t.length-1));return t[$]}constructor(){this.delegate=null,this.state=null,this.direction="ltr",this.pointerTracking={lastY:0,lastX:0,yDirection:null,xDirection:null,boundaryContext:null}}}class Bt{*[Symbol.iterator](){yield*this.flattenedRows}get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}getItem(t){return this.keyMap.get(t)||null}at(t){return this.flattenedRows[t]}getFirstKey(){var t;return(t=this.flattenedRows[0])===null||t===void 0?void 0:t.key}getLastKey(){var t;return(t=this.flattenedRows[this.flattenedRows.length-1])===null||t===void 0?void 0:t.key}getKeyAfter(t){var a;let e=this.flattenedRows.findIndex(r=>r.key===t);return(a=this.flattenedRows[e+1])===null||a===void 0?void 0:a.key}getKeyBefore(t){var a;let e=this.flattenedRows.findIndex(r=>r.key===t);return(a=this.flattenedRows[e-1])===null||a===void 0?void 0:a.key}getChildren(t){let a=this.keyMap;return{*[Symbol.iterator](){let e=a.get(t),r=e?.firstChildKey!=null?a.get(e.firstChildKey):null;for(;r;)yield r,r=r.nextKey!=null?a.get(r.nextKey):void 0}}}getTextValue(t){let a=this.getItem(t);return a?a.textValue:""}constructor(t){this.keyMap=new Map,this.itemCount=0;let{collection:a,expandedKeys:e}=t,{flattenedRows:r,keyMap:l,itemCount:s}=Xt(a,{expandedKeys:e});this.flattenedRows=r,this.keyMap=l,this.itemCount=s}}const zt=f.createContext(null),pe=f.createContext(null),Wt=f.forwardRef(function(t,a){return[t,a]=st(t,a,zt),o.createElement(vt,{content:o.createElement($t,t)},e=>o.createElement(Ut,{props:t,collection:e,treeRef:a}))}),he={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function Ut({props:n,collection:t,treeRef:a}){const{dragAndDropHooks:e}=n;let{direction:r}=Mt(),l=Vt({usage:"search",sensitivity:"base"}),s=!!e?.useDraggableCollectionState,c=!!e?.useDroppableCollectionState,i=f.useRef(s),u=f.useRef(c);f.useEffect(()=>{i.current!==s&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),u.current!==c&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior.")},[s,c]);let{selectionMode:d="none",expandedKeys:h,defaultExpandedKeys:g,onExpandedChange:$,disabledBehavior:m="all"}=n,{CollectionRoot:T,isVirtualized:I,layoutDelegate:k,dropTargetDelegate:q}=f.useContext(ce),[C,j]=Et(h?ge(h):void 0,g?ge(g):new Set,$),Q=f.useMemo(()=>new Bt({collection:t,expandedKeys:C}),[t,C]),p=Nt({...n,selectionMode:d,expandedKeys:C,onExpandedChange:j,collection:Q,children:void 0,disabledBehavior:m}),{gridProps:D}=Ft({...n,isVirtualized:I,layoutDelegate:k},p,a),b,v,P,K=!1,A=null,M=f.useRef(null);if(s&&e){b=e.useDraggableCollectionState({collection:p.collection,selectionManager:p.selectionManager,preview:e.renderDragPreview?M:void 0}),e.useDraggableCollection({},b,a);let E=e.DragPreview;A=e.renderDragPreview?o.createElement(E,{ref:M},e.renderDragPreview):null}let[V]=f.useState(()=>new Ot);if(c&&e){v=e.useDroppableCollectionState({collection:p.collection,selectionManager:p.selectionManager});let E=e.dropTargetDelegate||q||new e.ListDropTargetDelegate(p.collection,a,{direction:r});V.setup(E,p,r);let te=new qt({collection:p.collection,collator:l,ref:a,disabledKeys:p.selectionManager.disabledKeys,disabledBehavior:p.selectionManager.disabledBehavior,direction:r,layoutDelegate:k});P=e.useDroppableCollection({keyboardDelegate:te,dropTargetDelegate:V,onDropActivate:w=>{if(w.target.type==="item"){var y;let x=w.target.key,N=p.collection.getItem(x),B=C!=="all"&&C.has(x);N&&N.hasChildNodes&&(!B||!(e==null||(y=e.isVirtualDragging)===null||y===void 0)&&y.call(e))&&p.toggleKey(x)}},onKeyDown:w=>{let y=v?.target;if(y&&y.type==="item"&&y.dropPosition==="on"){let x=p.collection.getItem(y.key);(w.key===he.expand[r]&&x?.hasChildNodes&&!p.expandedKeys.has(y.key)||w.key===he.collapse[r]&&x?.hasChildNodes&&p.expandedKeys.has(y.key))&&p.toggleKey(y.key)}}},v,a);let ae=v.getDropOperation;v.getDropOperation=w=>{let{target:y,isInternal:x}=w;var N;let B=(N=b?.draggingKeys)!==null&&N!==void 0?N:new Set;if(x&&y.type==="item"&&B.size>0){if(B.has(y.key)&&y.dropPosition==="on")return"cancel";let re=y.key;for(;re!=null;){let le=p.collection.getItem(re),z=le?.parentKey;if(z!=null&&B.has(z))return"cancel";re=z??null}}return ae(w)},K=v.isDropTarget({type:"root"})}let _=!!(s&&!b?.isDisabled),{focusProps:Y,isFocused:L,isFocusVisible:X}=ne(),F={isEmpty:p.collection.size===0,isFocused:L,isFocusVisible:X,isDropTarget:K,selectionMode:p.selectionManager.selectionMode,allowsDragging:!!_,state:p},ee=U({...n,children:void 0,defaultClassName:"react-aria-Tree",values:F}),H=null;if(p.collection.size===0&&n.renderEmptyState){let{isEmpty:E,...te}=F,ae=n.renderEmptyState({...te}),w={"aria-level":1};H=o.createElement("div",{role:"row",style:{display:"contents"},...w},o.createElement("div",{role:"gridcell",style:{display:"contents"}},ae))}let O=ie(n,{global:!0});return o.createElement(o.Fragment,null,o.createElement(Rt,null,o.createElement(Z.div,{...de(O,ee,D,Y,P?.collectionProps),ref:a,slot:n.slot||void 0,"data-empty":p.collection.size===0||void 0,"data-focused":L||void 0,"data-drop-target":K||void 0,"data-focus-visible":X||void 0,"data-selection-mode":p.selectionManager.selectionMode==="none"?void 0:p.selectionManager.selectionMode,"data-allows-dragging":!!_||void 0},o.createElement(be,{values:[[pe,p],[J,{dragAndDropHooks:e,dragState:b,dropState:v}],[ft,{render:Gt}]]},c&&o.createElement(Qt,null),o.createElement(yt,null,o.createElement(T,{collection:p.collection,persistedKeys:ht(p.selectionManager,e,v),scrollRef:a,renderDropIndicator:mt(e,v)}))),H)),A)}class rt extends ve{}rt.type="content";const jt=ye(rt,function(t){let a=f.useContext(lt),e=U({children:t.children,values:a});return o.createElement(ce.Provider,{value:pt},e.children)}),lt=f.createContext(null);class nt extends ve{}nt.type="item";const Yt=xt(nt,(n,t,a)=>{var e;let r=f.useContext(pe);t=oe(t);let{dragAndDropHooks:l,dragState:s,dropState:c}=f.useContext(J),{rowProps:i,gridCellProps:u,expandButtonProps:d,descriptionProps:h,...g}=at({node:a,shouldSelectOnPressUp:!!s},r,t),$=i["aria-expanded"]===!0,m=n.hasChildItems||((e=[...r.collection.getChildren(a.key)])===null||e===void 0?void 0:e.length)>1,T=i["aria-level"]||1,{hoverProps:I,isHovered:k}=Pt({isDisabled:!g.allowsSelection&&!g.hasAction,onHoverStart:n.onHoverStart,onHoverChange:n.onHoverChange,onHoverEnd:n.onHoverEnd}),{isFocusVisible:q,focusProps:C}=ne(),{isFocusVisible:j,focusProps:Q}=ne({within:!0}),{checkboxProps:p}=Kt({key:a.key},r),D=null;s&&l&&(D=l.useDraggableItem({key:a.key,hasDragButton:!0},s));let b=null,v=f.useRef(null),P=f.useRef(null),K=f.useRef(null),{visuallyHiddenProps:A}=ue();c&&l&&(b=l.useDropIndicator({target:{type:"item",key:a.key,dropPosition:"on"},activateButtonRef:K},c,P));let M=s&&s.isDragging(a.key),V=b?.isDropTarget,_=r.selectionManager.selectionMode,Y=r.selectionManager.selectionBehavior,L=o.useMemo(()=>({...g,isHovered:k,isFocusVisible:q,isExpanded:$,hasChildItems:m,level:T,selectionMode:_,selectionBehavior:Y,isFocusVisibleWithin:j,state:r,id:a.key,allowsDragging:!!s,isDragging:M,isDropTarget:V}),[g,k,q,$,m,T,j,r,a.key,s,M,V,Y,_]),X=U({...n,id:void 0,children:a.rendered,defaultClassName:"react-aria-TreeItem",defaultStyle:{"--tree-item-level":T},values:L});f.useEffect(()=>{a.textValue},[a.textValue]),f.useEffect(()=>{m&&v.current},[]);let F=f.useRef(null);f.useEffect(()=>{s&&F.current},[]);let ee=wt({items:r.collection.getChildren(a.key),children:E=>{switch(E.type){case"content":return E.render(E);case"loader":case"item":return o.createElement(o.Fragment,null);default:throw new Error("Unsupported element type in TreeRow: "+E.type)}}}),H=ct(),O=ie(n,{global:!0});return delete O.id,delete O.onClick,o.createElement(o.Fragment,null,b&&!b.isHidden&&o.createElement("div",{role:"row","aria-level":i["aria-level"],"aria-expanded":i["aria-expanded"],"aria-label":b.dropIndicatorProps["aria-label"]},o.createElement("div",{role:"gridcell","aria-colindex":1,style:{display:"contents"}},o.createElement("div",{role:"button",...A,...b.dropIndicatorProps,ref:P}),i["aria-expanded"]!=null?o.createElement("div",{role:"button",...A,id:H,"aria-label":d["aria-label"],"aria-labelledby":`${H} ${i.id}`,tabIndex:-1,ref:K}):null)),o.createElement(Z.div,{...de(O,i,C,I,Q,D?.dragProps),...X,ref:t,"data-expanded":m&&$||void 0,"data-has-child-items":m||void 0,"data-level":T,"data-selected":g.isSelected||void 0,"data-disabled":g.isDisabled||void 0,"data-hovered":k||void 0,"data-focused":g.isFocused||void 0,"data-focus-visible":q||void 0,"data-pressed":g.isPressed||void 0,"data-selection-mode":r.selectionManager.selectionMode==="none"?void 0:r.selectionManager.selectionMode,"data-allows-dragging":!!s||void 0,"data-dragging":M||void 0,"data-drop-target":V||void 0},o.createElement("div",{...u,style:{display:"contents"}},o.createElement(be,{values:[[dt,{slots:{selection:p}}],[ot,{slots:{[ut]:{},chevron:{...d,ref:v},drag:{...D?.dragButtonProps,ref:F,style:{pointerEvents:"none"}}}}],[lt,{...L}],[bt,{isSelected:g.isSelected}]]},ee))))});ye(kt,function(t,a,e){let{isVirtualized:r}=f.useContext(ce),l=f.useContext(pe),{isLoading:s,onLoadMore:c,scrollOffset:i,...u}=t,d=f.useRef(null),h=f.useMemo(()=>({onLoadMore:c,collection:l?.collection,sentinelRef:d,scrollOffset:i}),[c,i,l?.collection]);gt(h,d),a=oe(a);let{rowProps:g,gridCellProps:$}=at({node:e},l,a),m=g["aria-level"]||1,T={role:"row","aria-level":g["aria-level"]},I=U({...u,id:void 0,children:e.rendered,defaultClassName:"react-aria-TreeLoader",values:{level:m}}),k={};return r&&(k={display:"contents"}),o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"relative",width:0,height:0},inert:Dt(!0)},o.createElement("div",{"data-testid":"loadMoreSentinel",ref:d,style:{position:"absolute",height:1,width:1}})),s&&I.children&&o.createElement(Z.div,{ref:a,...de(ie(t),T),...I,"data-level":m},o.createElement("div",{...$,style:k},I.children)))});function ge(n){return n?n==="all"?"all":new Set(n):new Set}function Xt(n,t){let{expandedKeys:a=new Set}=t,e=new Map,r=[],l=0,s=new Map,c=i=>{if(i.type==="item"||i.type==="loader"){let u=i?.parentKey,d={...i};u!=null?([...n.getChildren(u)][0].type!=="item"&&(d.index=i?.index!=null?i?.index-1:0),i.type==="loader"&&(d.level=i.level+1),e.set(d.key,d)):e.set(i.key,i);let h=e.get(i.key)||i;(h.level===0||h.parentKey!=null&&a.has(h.parentKey)&&s.get(h.parentKey))&&(h.type==="item"&&l++,r.push(h),s.set(h.key,!0))}else i.type!==null&&e.set(i.key,i);for(let u of n.getChildren(i.key))c(u)};for(let i of n)c(i);return{flattenedRows:r,keyMap:e,itemCount:l}}function Gt(n,t){var a;t=oe(t);let{dragAndDropHooks:e,dropState:r}=f.useContext(J),l=f.useRef(null),{dropIndicatorProps:s,isHidden:c,isDropTarget:i}=e.useDropIndicator(n,r,l);if(c)return null;let u=r&&n.target.type==="item"?(((a=r.collection.getItem(n.target.key))===null||a===void 0?void 0:a.level)||0)+1:1;return o.createElement(Jt,{...n,dropIndicatorProps:s,isDropTarget:i,ref:t,buttonRef:l,level:u})}function Zt(n,t){let{dropIndicatorProps:a,isDropTarget:e,buttonRef:r,level:l,...s}=n,{visuallyHiddenProps:c}=ue(),i=U({...s,defaultClassName:"react-aria-DropIndicator",defaultStyle:{position:"relative","--tree-item-level":l},values:{isDropTarget:e}});return o.createElement(Z.div,{...i,role:"row","aria-level":l,ref:t,"data-drop-target":e||void 0},o.createElement("div",{role:"gridcell"},o.createElement("div",{...c,role:"button",...a,ref:r}),i.children))}const Jt=f.forwardRef(Zt);function Qt(){let{dragAndDropHooks:n,dropState:t}=f.useContext(J),a=f.useRef(null),{dropIndicatorProps:e}=n.useDropIndicator({target:{type:"root"}},t,a),r=t.isDropTarget({type:"root"}),{visuallyHiddenProps:l}=ue();return!r&&e["aria-hidden"]?null:o.createElement("div",{role:"row","aria-hidden":e["aria-hidden"],style:{position:"absolute"}},o.createElement("div",{role:"gridcell"},o.createElement("div",{role:"button",...l,...e,ref:a})))}const ea=se({extend:$e,base:"relative font-sans flex group gap-3 cursor-default select-none py-1 px-3 text-sm text-neutral-900 dark:text-neutral-200 bg-white dark:bg-neutral-900 border-t dark:border-t-neutral-700 border-transparent first:border-t-0 -outline-offset-2 first:rounded-t-lg last:rounded-b-lg",variants:{isSelected:{false:"hover:bg-neutral-100 pressed:bg-neutral-100 dark:hover:bg-neutral-800 dark:pressed:bg-neutral-800",true:"bg-accent-100 dark:bg-accent-700/30 hover:bg-accent-200 pressed:bg-accent-200 dark:hover:bg-accent-700/40 dark:pressed:bg-accent-700/40 border-y-accent-200 dark:border-y-accent-900 z-20"},isDisabled:{true:"text-neutral-300 dark:text-neutral-600 forced-colors:text-[GrayText] z-10"}}});function G({children:n,...t}){return o.createElement(Wt,{...t,className:_t(t.className,"w-48 max-w-full overflow-auto relative border border-neutral-200 dark:border-neutral-700 rounded-lg")},n)}const ta=se({extend:$e,base:"border-0 p-0 bg-transparent shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-start cursor-default [-webkit-tap-highlight-color:transparent]",variants:{isDisabled:{true:"text-neutral-300 dark:text-neutral-600 forced-colors:text-[GrayText]"}}}),aa=se({base:"w-4.5 h-4.5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200 ease-in-out",variants:{isExpanded:{true:"transform rotate-90"},isDisabled:{true:"text-neutral-300 dark:text-neutral-600 forced-colors:text-[GrayText]"}}});function S(n){return o.createElement(Yt,{className:ea,textValue:n.title,...n},o.createElement(jt,{...n},({selectionMode:t,selectionBehavior:a,hasChildItems:e,isExpanded:r,isDisabled:l})=>o.createElement("div",{className:"flex items-center"},t!=="none"&&a==="toggle"&&o.createElement(At,{slot:"selection"}),o.createElement("div",{className:"shrink-0 w-[calc(calc(var(--tree-item-level)_-_1)_*_calc(var(--spacing)_*_3))]"}),e?o.createElement(it,{slot:"chevron",className:ta({isDisabled:l})},o.createElement(Lt,{"aria-hidden":!0,className:aa({isExpanded:r,isDisabled:l})})):o.createElement("div",{className:"shrink-0 w-8 h-8"}),n.title)),n.children)}try{G.displayName="Tree",G.__docgenInfo={description:"",displayName:"Tree",props:{className:{defaultValue:{value:"'react-aria-Tree'"},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"ClassNameOrFunction<TreeRenderProps>"}},renderEmptyState:{defaultValue:null,description:"Provides content to display when there are no items in the list.",name:"renderEmptyState",required:!1,type:{name:"(props: TreeEmptyStateRenderProps) => ReactNode"}},disabledBehavior:{defaultValue:{value:"'all'"},description:"Whether `disabledKeys` applies to all interactions, or only selection.",name:"disabledBehavior",required:!1,type:{name:"enum",value:[{value:'"all"'},{value:'"selection"'}]}},dragAndDropHooks:{defaultValue:null,description:"The drag and drop hooks returned by `useDragAndDrop` used to enable drag and drop behavior for the Tree.",name:"dragAndDropHooks",required:!1,type:{name:"DragAndDropHooks<NoInfer<T>>"}},autoFocus:{defaultValue:null,description:"Whether to auto focus the gridlist or an option.",name:"autoFocus",required:!1,type:{name:"boolean | FocusStrategy"}},id:{defaultValue:null,description:"The element's unique identifier. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id).",name:"id",required:!1,type:{name:"string"}},escapeKeyBehavior:{defaultValue:{value:"'clearSelection'"},description:`Whether pressing the escape key should clear selection in the grid list or not.

Most experiences should not modify this option as it eliminates a keyboard user's ability to
easily clear selection. Only use if the escape key is being handled externally or should not
trigger selection clearing contextually.`,name:"escapeKeyBehavior",required:!1,type:{name:"enum",value:[{value:'"clearSelection"'},{value:'"none"'}]}},items:{defaultValue:null,description:"Item objects in the collection.",name:"items",required:!1,type:{name:"Iterable<T>"}},disabledKeys:{defaultValue:null,description:"The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with.",name:"disabledKeys",required:!1,type:{name:"Iterable<Key>"}},disallowEmptySelection:{defaultValue:null,description:"Whether the collection allows empty selection.",name:"disallowEmptySelection",required:!1,type:{name:"boolean"}},selectedKeys:{defaultValue:null,description:"The currently selected keys in the collection (controlled).",name:"selectedKeys",required:!1,type:{name:'Iterable<Key> | "all"'}},defaultSelectedKeys:{defaultValue:null,description:"The initial selected keys in the collection (uncontrolled).",name:"defaultSelectedKeys",required:!1,type:{name:'Iterable<Key> | "all"'}},shouldSelectOnPressUp:{defaultValue:null,description:"Whether selection should occur on press up instead of press down.",name:"shouldSelectOnPressUp",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The contents of the collection.",name:"children",required:!1,type:{name:"ReactNode | ((item: T) => ReactNode)"}},dependencies:{defaultValue:null,description:"Values that should invalidate the item cache when using dynamic collections.",name:"dependencies",required:!1,type:{name:"readonly any[]"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"StyleOrFunction<TreeRenderProps>"}},render:{defaultValue:null,description:`Overrides the default DOM element with a custom render function.
This allows rendering existing components with built-in styles and behaviors
such as router links, animation libraries, and pre-styled components.

Requirements:

* You must render the expected element type (e.g. if \`<button>\` is expected, you cannot render an \`<a>\`).
* Only a single root DOM element can be rendered (no fragments).
* You must pass through props and ref to the underlying DOM element, merging with your own prop as appropriate.`,name:"render",required:!1,type:{name:'DOMRenderFunction<"div", TreeRenderProps>'}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},expandedKeys:{defaultValue:null,description:"The currently expanded keys in the collection (controlled).",name:"expandedKeys",required:!1,type:{name:"Iterable<Key>"}},defaultExpandedKeys:{defaultValue:null,description:"The initial expanded keys in the collection (uncontrolled).",name:"defaultExpandedKeys",required:!1,type:{name:"Iterable<Key>"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},inert:{defaultValue:null,description:"",name:"inert",required:!1,type:{name:"boolean"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:"enum",value:[{value:'"yes"'},{value:'"no"'}]}}}}}catch{}try{S.displayName="TreeItem",S.__docgenInfo={description:"",displayName:"TreeItem",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},className:{defaultValue:{value:"'react-aria-Tree'"},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"ClassNameOrFunction<TreeRenderProps>"}},id:{defaultValue:null,description:"The unique id of the tree row.",name:"id",required:!1,type:{name:"Key"}},value:{defaultValue:null,description:"The object value that this tree item represents. When using dynamic collections, this is set automatically.",name:"value",required:!1,type:{name:"object"}},textValue:{defaultValue:null,description:"A string representation of the tree item's contents, used for features like typeahead.",name:"textValue",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The contents of the collection.",name:"children",required:!1,type:{name:"ReactNode | ((item: T) => ReactNode)"}},isDisabled:{defaultValue:null,description:"Whether the item is disabled.",name:"isDisabled",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"StyleOrFunction<TreeRenderProps>"}},render:{defaultValue:null,description:`Overrides the default DOM element with a custom render function.
This allows rendering existing components with built-in styles and behaviors
such as router links, animation libraries, and pre-styled components.

Requirements:

* You must render the expected element type (e.g. if \`<button>\` is expected, you cannot render an \`<a>\`).
* Only a single root DOM element can be rendered (no fragments).
* You must pass through props and ref to the underlying DOM element, merging with your own prop as appropriate.`,name:"render",required:!1,type:{name:'DOMRenderFunction<"div", TreeRenderProps>'}},href:{defaultValue:null,description:"A URL to link to. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#href).",name:"href",required:!1,type:{name:"string"}},hrefLang:{defaultValue:null,description:"Hints at the human language of the linked URL. See[MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#hreflang).",name:"hrefLang",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"The target window for the link. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target).",name:"target",required:!1,type:{name:"HTMLAttributeAnchorTarget"}},rel:{defaultValue:null,description:"The relationship between the linked resource and the current page. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel).",name:"rel",required:!1,type:{name:"string"}},download:{defaultValue:null,description:"Causes the browser to download the linked URL. A string may be provided to suggest a file name. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#download).",name:"download",required:!1,type:{name:"string | boolean"}},ping:{defaultValue:null,description:"A space-separated list of URLs to ping when the link is followed. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#ping).",name:"ping",required:!1,type:{name:"string"}},referrerPolicy:{defaultValue:null,description:"How much of the referrer to send when following the link. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#referrerpolicy).",name:"referrerPolicy",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"no-referrer"'},{value:'"no-referrer-when-downgrade"'},{value:'"origin"'},{value:'"origin-when-cross-origin"'},{value:'"same-origin"'},{value:'"strict-origin"'},{value:'"strict-origin-when-cross-origin"'},{value:'"unsafe-url"'}]}},routerOptions:{defaultValue:null,description:"Options for the configured client side router.",name:"routerOptions",required:!1,type:{name:"never"}},hasChildItems:{defaultValue:null,description:"Whether this item has children, even if not loaded yet.",name:"hasChildItems",required:!1,type:{name:"boolean"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},inert:{defaultValue:null,description:"",name:"inert",required:!1,type:{name:"boolean"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:"enum",value:[{value:'"yes"'},{value:'"no"'}]}}}}}catch{}const cr={component:G,parameters:{layout:"centered"},tags:["autodocs"]},R=n=>o.createElement(G,{"aria-label":"Files",style:{height:"400px",width:"300px"},...n},o.createElement(S,{title:"Documents"},o.createElement(S,{title:"Project"},o.createElement(S,{title:"Weekly Report"}))),o.createElement(S,{title:"Photos"},o.createElement(S,{title:"Image 1"}),o.createElement(S,{title:"Image 2"})));R.args={onAction:null,defaultExpandedKeys:["documents","photos","project"],selectionMode:"multiple",defaultSelectedKeys:["project"]};const W=n=>o.createElement(R,{...n});W.args={...R.args,disabledKeys:["photos"]};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`(args: any) => <Tree aria-label="Files" style={{
  height: '400px',
  width: '300px'
}} {...args}>
  <TreeItem title="Documents">
    <TreeItem title="Project">
      <TreeItem title="Weekly Report" />
    </TreeItem>
  </TreeItem>
  <TreeItem title="Photos">
    <TreeItem title="Image 1" />
    <TreeItem title="Image 2" />
  </TreeItem>
</Tree>`,...R.parameters?.docs?.source}}};W.parameters={...W.parameters,docs:{...W.parameters?.docs,source:{originalSource:"(args: any) => <Example {...args} />",...W.parameters?.docs?.source}}};const ur=["Example","DisabledItems"];export{W as DisabledItems,R as Example,ur as __namedExportsOrder,cr as default};
