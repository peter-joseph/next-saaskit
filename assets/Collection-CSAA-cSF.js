import{i as p}from"./CollectionBuilder-CqpCgdcI.js";import{r as i,R as d}from"./iframe-CU8xeqI0.js";const k=i.createContext(null),s={CollectionRoot({collection:e,renderDropIndicator:t}){return $(e,null,t)},CollectionBranch({collection:e,parent:t,renderDropIndicator:n}){return $(e,t,n)}};function $(e,t,n){return p({items:t?e.getChildren(t.key):e,dependencies:[n],children(f){let r=f.render(f);return!n||f.type!=="item"?r:d.createElement(d.Fragment,null,n({type:"item",key:f.key,dropPosition:"before"}),r,x(e,f,n))}})}function x(e,t,n){let f=t.key,r=e.getKeyAfter(f),u=r!=null?e.getItem(r):null;for(;u!=null&&u.type!=="item";)r=e.getKeyAfter(u.key),u=r!=null?e.getItem(r):null;let a=t.nextKey!=null?e.getItem(t.nextKey):null;for(;a!=null&&a.type!=="item";)a=a.nextKey!=null?e.getItem(a.nextKey):null;let y=[];if(a==null){let l=t;for(;l?.type==="item"&&(!u||l.parentKey!==u.parentKey&&u.level<l.level);){let m=n({type:"item",key:l.key,dropPosition:"after"});i.isValidElement(m)&&y.push(i.cloneElement(m,{key:`${l.key}-after`})),l=l.parentKey!=null?e.getItem(l.parentKey):null}}return y}const g=i.createContext(s);function b(e){return i.useMemo(()=>e!=null?new Set([e]):null,[e])}export{g as $,s as a,k as b,b as c};
