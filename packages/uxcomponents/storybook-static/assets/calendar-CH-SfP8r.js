import{a as te}from"./Button-BNwiwiqy.js";import{$ as ze,a as Ge}from"./Calendar-DBpEDJuA.js";import{i as z,a as H,d as J,b as ve,e as me,j as $e,k as ge,f as he,g as ye,c as Ve}from"./index-BhyzFoYa.js";import{$ as Pe,b as De,c as xe,d as Ae,e as Re,f as Xe,g as G,h as q,i as He,j as Oe,k as Je}from"./DateField-D2-QSd2H.js";import{c as Ce,d as Fe,k as Te}from"./Dialog-lYYAa9FS.js";import{$ as Me}from"./FieldError-572FWW34.js";import{a as Ze}from"./Form-C4XTT4Q5.js";import{$ as de}from"./Group-BT2l4JiL.js";import{$ as ne}from"./Label-CecVYQ3_.js";import{$ as re}from"./Text-DDv73jtL.js";import{$ as Ie}from"./useResizeObserver-DhEKeku7.js";import{r as o,R as A}from"./iframe-D6Fs4So_.js";import{$ as X,a as ae,b as le}from"./useDateFormatter-D1ZPiBNy.js";import{a as ie,b as ce,c as be,$ as Be}from"./useFormValidation-Ds18tznt.js";import{$ as we}from"./OverlayArrow-D6aCB5CV.js";import{$ as Se}from"./useControlledState-Dbnf3Bgn.js";import{$ as Ee}from"./FocusScope-CgNthz1u.js";import{b as ke,l as _e,f as We}from"./useFocusRing-D9TQlOey.js";import{a as Ue}from"./scrollIntoView-BiVEfWHi.js";import{$ as Ke}from"./useField-OXc3YZvT.js";import{$ as Le}from"./context-TYPMPinS.js";import{$ as Ne}from"./useLocalizedStringFormatter-D0E0W94r.js";import{c as Qe}from"./createLucideIcon-sIoT1a6W.js";function Ye(e){return e&&e.__esModule?e.default:e}function pe(e,a,n){let P=z(),v=z(),$=z(),b=Ne(Ye(xe),"@react-aria/datepicker"),{isInvalid:i,validationErrors:s,validationDetails:l}=a.displayValidation,{labelProps:R,fieldProps:O,descriptionProps:g,errorMessageProps:M}=Ke({...e,labelElementType:"span",isInvalid:i,errorMessage:e.errorMessage||s}),C=Pe(a,n),Z=O["aria-labelledby"]||O.id,{locale:F}=Le(),f=a.formatValue(F,{month:"long"}),I=f?b.format("selectedDateDescription",{date:f}):"",t=Ue(I),T=[t["aria-describedby"],O["aria-describedby"]].filter(Boolean).join(" ")||void 0,E=H(e),B=o.useMemo(()=>Ee(n),[n]),y=o.useRef(!1),{focusWithinProps:S}=ke({...e,isDisabled:a.isOpen,onBlurWithin:c=>{let D=document.getElementById(v);if(!_e(D,c.relatedTarget)){var V,w;y.current=!1,(V=e.onBlur)===null||V===void 0||V.call(e,c),(w=e.onFocusChange)===null||w===void 0||w.call(e,!1)}},onFocusWithin:c=>{if(!y.current){var D,V;y.current=!0,(D=e.onFocus)===null||D===void 0||D.call(e,c),(V=e.onFocusChange)===null||V===void 0||V.call(e,!0)}}});return{groupProps:J(E,C,O,t,S,{role:"group","aria-disabled":e.isDisabled||null,"aria-labelledby":Z,"aria-describedby":T,onKeyDown(c){a.isOpen||e.onKeyDown&&e.onKeyDown(c)},onKeyUp(c){a.isOpen||e.onKeyUp&&e.onKeyUp(c)}}),labelProps:{...R,onClick:()=>{B.focusFirst()}},fieldProps:{...O,id:$,[De]:"presentation","aria-describedby":T,value:a.value,defaultValue:a.defaultValue,onChange:a.setValue,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,granularity:e.granularity,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior,[ie]:a,autoFocus:e.autoFocus,name:e.name,form:e.form},descriptionProps:g,errorMessageProps:M,buttonProps:{...t,id:P,"aria-haspopup":"dialog","aria-label":b.format("calendar"),"aria-labelledby":`${P} ${Z}`,"aria-describedby":T,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:v,"aria-labelledby":`${P} ${Z}`},calendarProps:{autoFocus:!0,value:a.dateValue,onChange:a.setDateValue,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,defaultFocusedValue:a.dateValue?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" "),firstDayOfWeek:e.firstDayOfWeek,pageBehavior:e.pageBehavior},isInvalid:i,validationErrors:s,validationDetails:l}}function ea(e){return e&&e.__esModule?e.default:e}function aa(e,a,n){var P,v,$,b,i;let s=Ne(ea(xe),"@react-aria/datepicker"),{isInvalid:l,validationErrors:R,validationDetails:O}=a.displayValidation,{labelProps:g,fieldProps:M,descriptionProps:C,errorMessageProps:Z}=Ke({...e,labelElementType:"span",isInvalid:l,errorMessage:e.errorMessage||R}),F=M["aria-labelledby"]||M.id,{locale:f}=Le(),I=a.formatValue(f,{month:"long"}),t=I?s.format("selectedRangeDescription",{startDate:I.start,endDate:I.end}):"",T=Ue(t),E={"aria-label":s.format("startDate"),"aria-labelledby":F},B={"aria-label":s.format("endDate"),"aria-labelledby":F},y=z(),S=z(),c=Pe(a,n),D=[T["aria-describedby"],M["aria-describedby"]].filter(Boolean).join(" ")||void 0,V=o.useMemo(()=>Ee(n,{accept:d=>d.id!==y}),[n,y]),w={[Ae]:V,[De]:"presentation","aria-describedby":D,placeholderValue:e.placeholderValue,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,granularity:e.granularity,shouldForceLeadingZeros:e.shouldForceLeadingZeros,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isRequired:e.isRequired,validationBehavior:e.validationBehavior},h=H(e),x=o.useRef(!1),{focusWithinProps:W}=ke({...e,isDisabled:a.isOpen,onBlurWithin:d=>{let m=document.getElementById(S);if(!_e(m,d.relatedTarget)){var k,j;x.current=!1,(k=e.onBlur)===null||k===void 0||k.call(e,d),(j=e.onFocusChange)===null||j===void 0||j.call(e,!1)}},onFocusWithin:d=>{if(!x.current){var m,k;x.current=!0,(m=e.onFocus)===null||m===void 0||m.call(e,d),(k=e.onFocusChange)===null||k===void 0||k.call(e,!0)}}}),U=o.useRef(ce),N=o.useRef(ce);var r,u;return{groupProps:J(h,c,M,T,W,{role:"group","aria-disabled":e.isDisabled||null,"aria-describedby":D,onKeyDown(d){a.isOpen||e.onKeyDown&&e.onKeyDown(d)},onKeyUp(d){a.isOpen||e.onKeyUp&&e.onKeyUp(d)}}),labelProps:{...g,onClick:()=>{V.focusFirst()}},buttonProps:{...T,id:y,"aria-haspopup":"dialog","aria-label":s.format("calendar"),"aria-labelledby":`${y} ${F}`,"aria-describedby":D,"aria-expanded":a.isOpen,isDisabled:e.isDisabled||e.isReadOnly,onPress:()=>a.setOpen(!0)},dialogProps:{id:S,"aria-labelledby":`${y} ${F}`},startFieldProps:{...E,...w,value:(r=(P=a.value)===null||P===void 0?void 0:P.start)!==null&&r!==void 0?r:null,defaultValue:(v=a.defaultValue)===null||v===void 0?void 0:v.start,onChange:d=>a.setDateTime("start",d),autoFocus:e.autoFocus,name:e.startName,form:e.form,[ie]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(d){U.current=d,a.updateValidation(be(d,N.current))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},endFieldProps:{...B,...w,value:(u=($=a.value)===null||$===void 0?void 0:$.end)!==null&&u!==void 0?u:null,defaultValue:(b=a.defaultValue)===null||b===void 0?void 0:b.end,onChange:d=>a.setDateTime("end",d),name:e.endName,form:e.form,[ie]:{realtimeValidation:a.realtimeValidation,displayValidation:a.displayValidation,updateValidation(d){N.current=d,a.updateValidation(be(U.current,d))},resetValidation:a.resetValidation,commitValidation:a.commitValidation}},descriptionProps:C,errorMessageProps:Z,calendarProps:{autoFocus:!0,value:!((i=a.dateRange)===null||i===void 0)&&i.start&&a.dateRange.end?a.dateRange:null,onChange:a.setDateRange,minValue:e.minValue,maxValue:e.maxValue,isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,isDateUnavailable:e.isDateUnavailable,allowsNonContiguousRanges:e.allowsNonContiguousRanges,defaultFocusedValue:a.dateRange?void 0:e.placeholderValue,isInvalid:a.isInvalid,errorMessage:typeof e.errorMessage=="function"?e.errorMessage(a.displayValidation):e.errorMessage||a.displayValidation.validationErrors.join(" "),firstDayOfWeek:e.firstDayOfWeek,pageBehavior:e.pageBehavior},isInvalid:l,validationErrors:R,validationDetails:O}}function la(e){let a=we(e),[n,P]=Se(e.value,e.defaultValue||null,e.onChange),[v]=o.useState(n),$=n||e.placeholderValue||null,[b,i]=Re($,e.granularity),s=n!=null?n.toDate(i??"UTC"):null,l=b==="hour"||b==="minute"||b==="second";var R;let O=(R=e.shouldCloseOnSelect)!==null&&R!==void 0?R:!0,[g,M]=o.useState(null),[C,Z]=o.useState(null);if(n&&(g=n,"hour"in n&&(C=n)),$&&!(b in $))throw new Error("Invalid granularity "+b+" for value "+$.toString());let F=n?.calendar.identifier==="gregory"&&n.era==="BC",f=o.useMemo(()=>({granularity:b,timeZone:i,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:F}),[b,e.hourCycle,e.shouldForceLeadingZeros,i,e.hideTimeZone,F]),{minValue:I,maxValue:t,isDateUnavailable:T}=e,E=o.useMemo(()=>Xe(n,I,t,T,f),[n,I,t,T,f]),B=Be({...e,value:n,builtinValidation:E}),y=B.displayValidation.isInvalid,S=e.validationState||(y?"invalid":null),c=(h,x)=>{P("timeZone"in x?x.set(ae(h)):le(h,x)),M(null),Z(null),B.commitValidation()},D=h=>{let x=typeof O=="function"?O():O;l?C||x?c(h,C||q(e.defaultValue||e.placeholderValue)):M(h):(P(h),B.commitValidation()),x&&a.setOpen(!1)},V=h=>{g&&h?c(g,h):Z(h)};var w;return{...B,value:n,defaultValue:(w=e.defaultValue)!==null&&w!==void 0?w:v,setValue:P,dateValue:g,timeValue:C,setDateValue:D,setTimeValue:V,granularity:b,hasTime:l,...a,setOpen(h){!h&&!n&&g&&l&&c(g,C||q(e.defaultValue||e.placeholderValue)),a.setOpen(h)},validationState:S,isInvalid:y,formatValue(h,x){if(!s)return"";let W=G(x,f);return new X(h,W).format(s)},getDateFormatter(h,x){let W={...f,...x},U=G({},W);return new X(h,U)}}}function ia(e){var a,n;let P=we(e),[v,$]=Se(e.value,e.defaultValue||null,e.onChange),[b]=o.useState(v),[i,s]=o.useState(()=>v||{start:null,end:null});v==null&&i.start&&i.end&&(i={start:null,end:null},s(i));let l=v||i,R=r=>{l=r||{start:null,end:null},s(l),L(l)?$(l):$(null)},O=l?.start||l?.end||e.placeholderValue||null,[g,M]=Re(O,e.granularity),C=g==="hour"||g==="minute"||g==="second";var Z;let F=(Z=e.shouldCloseOnSelect)!==null&&Z!==void 0?Z:!0,[f,I]=o.useState(null),[t,T]=o.useState(null);l&&L(l)&&(f=l,"hour"in l.start&&(t=l));let E=(r,u)=>{R({start:"timeZone"in u.start?u.start.set(ae(r.start)):le(r.start,u.start),end:"timeZone"in u.end?u.end.set(ae(r.end)):le(r.end,u.end)}),I(null),T(null),x.commitValidation()},B=r=>{let u=typeof F=="function"?F():F;C?L(r)&&(u||t?.start&&t?.end)?E(r,{start:t?.start||q(e.placeholderValue),end:t?.end||q(e.placeholderValue)}):I(r):L(r)?(R(r),x.commitValidation()):I(r),u&&P.setOpen(!1)},y=r=>{L(f)&&L(r)?E(f,r):T(r)},S=(l==null||(a=l.start)===null||a===void 0?void 0:a.calendar.identifier)==="gregory"&&l.start.era==="BC"||(l==null||(n=l.end)===null||n===void 0?void 0:n.calendar.identifier)==="gregory"&&l.end.era==="BC",c=o.useMemo(()=>({granularity:g,timeZone:M,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,shouldForceLeadingZeros:e.shouldForceLeadingZeros,showEra:S}),[g,e.hourCycle,e.shouldForceLeadingZeros,M,e.hideTimeZone,S]),{minValue:D,maxValue:V,isDateUnavailable:w}=e,h=o.useMemo(()=>He(l,D,V,w,c),[l,D,V,w,c]),x=Be({...e,value:v,name:o.useMemo(()=>[e.startName,e.endName].filter(r=>r!=null),[e.startName,e.endName]),builtinValidation:h}),W=x.displayValidation.isInvalid,U=e.validationState||(W?"invalid":null);var N;return{...x,value:l,defaultValue:(N=e.defaultValue)!==null&&N!==void 0?N:b,setValue:R,dateRange:f,timeRange:t,granularity:g,hasTime:C,setDate(r,u){var d,m;B(r==="start"?{start:u,end:(d=f?.end)!==null&&d!==void 0?d:null}:{start:(m=f?.start)!==null&&m!==void 0?m:null,end:u})},setTime(r,u){var d,m;y(r==="start"?{start:u,end:(d=t?.end)!==null&&d!==void 0?d:null}:{start:(m=t?.start)!==null&&m!==void 0?m:null,end:u})},setDateTime(r,u){var d,m;R(r==="start"?{start:u,end:(d=l?.end)!==null&&d!==void 0?d:null}:{start:(m=l?.start)!==null&&m!==void 0?m:null,end:u})},setDateRange:B,setTimeRange:y,...P,setOpen(r){!r&&!(l?.start&&l?.end)&&L(f)&&C&&E(f,{start:t?.start||q(e.placeholderValue),end:t?.end||q(e.placeholderValue)}),P.setOpen(r)},validationState:U,isInvalid:W,formatValue(r,u){if(!l||!l.start||!l.end)return null;let d="timeZone"in l.start?l.start.timeZone:void 0,m=e.granularity||(l.start&&"minute"in l.start?"minute":"day"),k="timeZone"in l.end?l.end.timeZone:void 0,j=e.granularity||(l.end&&"minute"in l.end?"minute":"day"),qe=G(u,{granularity:m,timeZone:d,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle,showEra:l.start.calendar.identifier==="gregory"&&l.start.era==="BC"||l.end.calendar.identifier==="gregory"&&l.end.era==="BC"}),oe=l.start.toDate(d||"UTC"),se=l.end.toDate(k||"UTC"),Q=new X(r,qe),Y;if(d===k&&m===j&&l.start.compare(l.end)!==0){try{let K=Q.formatRangeToParts(oe,se),p=-1;for(let _=0;_<K.length;_++){let ee=K[_];if(ee.source==="shared"&&ee.type==="literal")p=_;else if(ee.source==="endRange")break}let ue="",fe="";for(let _=0;_<K.length;_++)_<p?ue+=K[_].value:_>p&&(fe+=K[_].value);return{start:ue,end:fe}}catch{}Y=Q}else{let K=G(u,{granularity:j,timeZone:k,hideTimeZone:e.hideTimeZone,hourCycle:e.hourCycle});Y=new X(r,K)}return{start:Q.format(oe),end:Y.format(se)}},getDateFormatter(r,u){let d={...c,...u},m=G({},d);return new X(r,m)}}}function L(e){return e?.start!=null&&e.end!=null}const ta=o.createContext(null),da=o.createContext(null),na=o.createContext(null),ra=o.createContext(null),je=[de,te,ne,re],Ba=o.forwardRef(function(a,n){[a,n]=ve(a,n,ta);let{validationBehavior:P}=me(Ze)||{};var v,$;let b=($=(v=a.validationBehavior)!==null&&v!==void 0?v:P)!==null&&$!==void 0?$:"native",i=la({...a,validationBehavior:b}),s=o.useRef(null),[l,R]=$e(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:O,labelProps:g,fieldProps:M,buttonProps:C,dialogProps:Z,calendarProps:F,descriptionProps:f,errorMessageProps:I,...t}=pe({...ge(a),label:R,validationBehavior:b},i,s),[T,E]=o.useState(null),B=o.useCallback(()=>{s.current&&E(s.current.offsetWidth+"px")},[]);Ie({ref:s,onResize:B});let{focusProps:y,isFocused:S,isFocusVisible:c}=We({within:!0}),D=he({...a,values:{state:i,isFocusWithin:S,isFocusVisible:c,isDisabled:a.isDisabled||!1,isInvalid:i.isInvalid,isOpen:i.isOpen,isReadOnly:a.isReadOnly||!1},defaultClassName:"react-aria-DatePicker"}),V=H(a,{global:!0});return delete V.id,A.createElement(ye,{values:[[na,i],[de,{...O,ref:s,isInvalid:i.isInvalid}],[Oe,M],[te,{...C,isPressed:i.isOpen}],[ne,{...g,ref:l,elementType:"span"}],[Ge,F],[Ce,i],[Fe,{trigger:"DatePicker",triggerRef:s,placement:"bottom start",style:{"--trigger-width":T},clearContexts:je}],[Te,Z],[re,{slots:{description:f,errorMessage:I}}],[Me,t]]},A.createElement(Ve.div,{...J(V,D,y),ref:n,slot:a.slot||void 0,"data-focus-within":S||void 0,"data-invalid":i.isInvalid||void 0,"data-focus-visible":c||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-open":i.isOpen||void 0}),A.createElement(Je,{autoComplete:a.autoComplete,name:a.name,isDisabled:a.isDisabled,state:i}))}),wa=o.forwardRef(function(a,n){[a,n]=ve(a,n,da);let{validationBehavior:P}=me(Ze)||{};var v,$;let b=($=(v=a.validationBehavior)!==null&&v!==void 0?v:P)!==null&&$!==void 0?$:"native",i=ia({...a,validationBehavior:b}),s=o.useRef(null),[l,R]=$e(!a["aria-label"]&&!a["aria-labelledby"]),{groupProps:O,labelProps:g,startFieldProps:M,endFieldProps:C,buttonProps:Z,dialogProps:F,calendarProps:f,descriptionProps:I,errorMessageProps:t,...T}=aa({...ge(a),label:R,validationBehavior:b},i,s),[E,B]=o.useState(null),y=o.useCallback(()=>{s.current&&B(s.current.offsetWidth+"px")},[]);Ie({ref:s,onResize:y});let{focusProps:S,isFocused:c,isFocusVisible:D}=We({within:!0}),V=he({...a,values:{state:i,isFocusWithin:c,isFocusVisible:D,isDisabled:a.isDisabled||!1,isInvalid:i.isInvalid,isOpen:i.isOpen,isReadOnly:a.isReadOnly||!1},defaultClassName:"react-aria-DateRangePicker"}),w=H(a,{global:!0});return delete w.id,A.createElement(ye,{values:[[ra,i],[de,{...O,ref:s,isInvalid:i.isInvalid}],[te,{...Z,isPressed:i.isOpen}],[ne,{...g,ref:l,elementType:"span"}],[ze,f],[Ce,i],[Fe,{trigger:"DateRangePicker",triggerRef:s,placement:"bottom start",style:{"--trigger-width":E},clearContexts:je}],[Te,F],[Oe,{slots:{start:M,end:C}}],[re,{slots:{description:I,errorMessage:t}}],[Me,T]]},A.createElement(Ve.div,{...J(w,V,S),ref:n,slot:a.slot||void 0,"data-focus-within":c||void 0,"data-invalid":i.isInvalid||void 0,"data-focus-visible":D||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-open":i.isOpen||void 0}))});const oa=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sa=Qe("calendar",oa);export{Ba as $,Sa as C,wa as a};
