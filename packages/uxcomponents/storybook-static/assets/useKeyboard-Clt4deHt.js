import{m as l}from"./index-BhyzFoYa.js";import{r as s,R as b}from"./iframe-D6Fs4So_.js";let o=new Map,c=new Set;function d(){if(typeof window>"u")return;function t(e){return"propertyName"in e}let r=e=>{if(!t(e)||!e.target)return;let a=o.get(e.target);a||(a=new Set,o.set(e.target,a),e.target.addEventListener("transitioncancel",n,{once:!0})),a.add(e.propertyName)},n=e=>{if(!t(e)||!e.target)return;let a=o.get(e.target);if(a&&(a.delete(e.propertyName),a.size===0&&(e.target.removeEventListener("transitioncancel",n),o.delete(e.target)),o.size===0)){for(let u of c)u();c.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?d():document.addEventListener("DOMContentLoaded",d));function $(){for(const[t]of o)"isConnected"in t&&!t.isConnected&&o.delete(t)}function g(t){requestAnimationFrame(()=>{$(),o.size===0?t():c.add(t)})}var i;const p=(i=b.useInsertionEffect)!==null&&i!==void 0?i:l;function y(t){const r=s.useRef(null);return p(()=>{r.current=t},[t]),s.useCallback((...n)=>{const e=r.current;return e?.(...n)},[])}function f(t){if(!t)return;let r=!0;return n=>{let e={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){r=!0},continuePropagation(){r=!1},isPropagationStopped(){return r}};t(e),r&&n.stopPropagation()}}function E(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:f(t.onKeyDown),onKeyUp:f(t.onKeyUp)}}}export{E as $,y as a,g as b};
