import{r as o,R as u}from"./iframe-D6Fs4So_.js";import{p as O,d as $,b as k,n as R,o as A,f as C,c as M,a as V,g as W,h as q}from"./index-BhyzFoYa.js";import{f as _,g as T,h as z,b as L,c as g,i as I,j as F}from"./Dialog-lYYAa9FS.js";import{$ as U}from"./scrollIntoView-BiVEfWHi.js";import{i as v}from"./SelectionManager-Ildo9Xoe.js";import{$ as x,a as P}from"./animation-wkmys5gv.js";import{$ as B}from"./OverlayArrow-D6aCB5CV.js";let r=typeof document<"u"&&window.visualViewport;function H(){let t=O(),[e,a]=o.useState(()=>t?{width:0,height:0}:b());return o.useEffect(()=>{let l=i=>{a(c=>i.width===c.width&&i.height===c.height?c:i)},n=()=>{r&&r.scale>1||l(b())},d,s=i=>{r&&r.scale>1||v(i.target)&&(d=requestAnimationFrame(()=>{(!document.activeElement||!v(document.activeElement))&&l({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})}))};return l(b()),window.addEventListener("blur",s,!0),r?r.addEventListener("resize",n):window.addEventListener("resize",n),()=>{cancelAnimationFrame(d),window.removeEventListener("blur",s,!0),r?r.removeEventListener("resize",n):window.removeEventListener("resize",n)}},[]),e}function b(){return{width:r?r.width*r.scale:document.documentElement.clientWidth,height:r?r.height*r.scale:document.documentElement.clientHeight}}function j(t,e,a){let{overlayProps:l,underlayProps:n}=_({...t,isOpen:e.isOpen,onClose:e.close},a);return T({isDisabled:!e.isOpen}),z(),o.useEffect(()=>{if(e.isOpen&&a.current)return L([a.current],{shouldUseInert:!0})},[e.isOpen,a]),{modalProps:$(l),underlayProps:n}}const K=o.createContext(null),y=o.createContext(null),Y=o.forwardRef(function(e,a){if(o.useContext(y))return u.createElement(E,{...e,modalRef:a},e.children);let{isDismissable:n,isKeyboardDismissDisabled:d,isOpen:s,defaultOpen:i,onOpenChange:c,children:f,isEntering:m,isExiting:p,UNSTABLE_portalContainer:h,shouldCloseOnInteractOutside:D,...N}=e;return u.createElement(S,{isDismissable:n,isKeyboardDismissDisabled:d,isOpen:s,defaultOpen:i,onOpenChange:c,isEntering:m,isExiting:p,UNSTABLE_portalContainer:h,shouldCloseOnInteractOutside:D},u.createElement(E,{...N,modalRef:a},f))});function G(t,e){[t,e]=k(t,e,K);let a=o.useContext(g),l=B(t),n=t.isOpen!=null||t.defaultOpen!=null||!a?l:a,d=R(e),s=o.useRef(null),i=x(d,n.isOpen),c=x(s,n.isOpen),f=i||c||t.isExiting||!1,m=O();return!n.isOpen&&!f||m?null:u.createElement(J,{...t,state:n,isExiting:f,overlayRef:d,modalRef:s})}const S=o.forwardRef(G);function J({UNSTABLE_portalContainer:t,...e}){let a=e.modalRef,{state:l}=e,{modalProps:n,underlayProps:d}=j(e,l,a),s=P(e.overlayRef)||e.isEntering||!1,i=C({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:s,isExiting:e.isExiting,state:l}}),c=H(),f;if(typeof document<"u"){let p=U(document.body)?document.body:document.scrollingElement||document.documentElement,h=p.getBoundingClientRect().height%1;f=p.scrollHeight-h}let m={...i.style,"--visual-viewport-height":c.height+"px","--page-height":f!==void 0?f+"px":void 0};return u.createElement(F,{isExiting:e.isExiting,portalContainer:t},u.createElement(M.div,{...$(V(e,{global:!0}),d),...i,style:m,ref:e.overlayRef,"data-entering":s||void 0,"data-exiting":e.isExiting||void 0},u.createElement(W,{values:[[y,{modalProps:n,modalRef:a,isExiting:e.isExiting,isDismissable:e.isDismissable}],[g,l]]},i.children)))}function E(t){let{modalProps:e,modalRef:a,isExiting:l,isDismissable:n}=o.useContext(y),d=o.useContext(g),s=o.useMemo(()=>A(t.modalRef,a),[t.modalRef,a]),i=R(s),c=P(i),f=C({...t,defaultClassName:"react-aria-Modal",values:{isEntering:c,isExiting:l,state:d}});return u.createElement(M.div,{...$(V(t,{global:!0}),e),...f,ref:i,"data-entering":c||void 0,"data-exiting":l||void 0},n&&u.createElement(I,{onDismiss:d.close}),f.children)}const Q=q({base:"absolute top-0 left-0 w-full h-(--page-height) isolate z-20 bg-black/[50%] text-center backdrop-blur-lg",variants:{isEntering:{true:"animate-in fade-in duration-200 ease-out"},isExiting:{true:"animate-out fade-out duration-200 ease-in"}}}),X=q({base:"font-sans w-full max-w-[min(90vw,450px)] max-h-[calc(var(--visual-viewport-height)*.9)] rounded-2xl bg-white dark:bg-neutral-800/70 dark:backdrop-blur-2xl dark:backdrop-saturate-200 forced-colors:bg-[Canvas] text-left align-middle text-neutral-700 dark:text-neutral-300 shadow-2xl bg-clip-padding border border-black/10 dark:border-white/10",variants:{isEntering:{true:"animate-in zoom-in-105 ease-out duration-200"},isExiting:{true:"animate-out zoom-out-95 ease-in duration-200"}}});function w(t){return u.createElement(S,{...t,className:Q},u.createElement("div",{className:"sticky top-0 left-0 w-full h-(--visual-viewport-height) flex items-center justify-center box-border"},u.createElement(Y,{...t,className:X})))}try{w.displayName="Modal",w.__docgenInfo={description:"",displayName:"Modal",props:{className:{defaultValue:{value:"'react-aria-ModalOverlay'"},description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"ClassNameOrFunction<ModalRenderProps>"}},isEntering:{defaultValue:null,description:"Whether the modal is currently performing an entry animation.",name:"isEntering",required:!1,type:{name:"boolean"}},isExiting:{defaultValue:null,description:"Whether the modal is currently performing an exit animation.",name:"isExiting",required:!1,type:{name:"boolean"}},UNSTABLE_portalContainer:{defaultValue:{value:"document.body"},description:`The container element in which the overlay portal will be placed. This may have unknown behavior depending on where it is portalled to.
@deprecated - Use a parent UNSAFE_PortalProvider to set your portal container instead.`,name:"UNSTABLE_portalContainer",required:!1,type:{name:"Element"}},isDismissable:{defaultValue:{value:"false"},description:"Whether to close the modal when the user interacts outside it.",name:"isDismissable",required:!1,type:{name:"boolean"}},isKeyboardDismissDisabled:{defaultValue:{value:"false"},description:"Whether pressing the escape key to close the modal should be disabled.",name:"isKeyboardDismissDisabled",required:!1,type:{name:"boolean"}},shouldCloseOnInteractOutside:{defaultValue:null,description:`When user interacts with the argument element outside of the overlay ref,
return true if onClose should be called.  This gives you a chance to filter
out interaction with elements that should not dismiss the overlay.
By default, onClose will always be called on interaction outside the overlay ref.`,name:"shouldCloseOnInteractOutside",required:!1,type:{name:"(element: Element) => boolean"}},isOpen:{defaultValue:null,description:"Whether the overlay is open by default (controlled).",name:"isOpen",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Whether the overlay is open by default (uncontrolled).",name:"defaultOpen",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The children of the component. A function may be provided to alter the children based on component state.",name:"children",required:!1,type:{name:"ChildrenOrFunction<ModalRenderProps>"}},style:{defaultValue:null,description:"The inline [style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style) for the element. A function may be provided to compute the style based on component state.",name:"style",required:!1,type:{name:"StyleOrFunction<ModalRenderProps>"}},render:{defaultValue:null,description:`Overrides the default DOM element with a custom render function.
This allows rendering existing components with built-in styles and behaviors
such as router links, animation libraries, and pre-styled components.

Requirements:

* You must render the expected element type (e.g. if \`<button>\` is expected, you cannot render an \`<a>\`).
* Only a single root DOM element can be rendered (no fragments).
* You must pass through props and ref to the underlying DOM element, merging with your own prop as appropriate.`,name:"render",required:!1,type:{name:'DOMRenderFunction<"div", ModalRenderProps>'}},slot:{defaultValue:null,description:"A slot name for the component. Slots allow the component to receive props from a parent component.\nAn explicit `null` value indicates that the local props completely override all props received from a parent.",name:"slot",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"string"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},inert:{defaultValue:null,description:"",name:"inert",required:!1,type:{name:"boolean"}},translate:{defaultValue:null,description:"",name:"translate",required:!1,type:{name:"enum",value:[{value:'"yes"'},{value:'"no"'}]}}}}}catch{}export{w as M};
