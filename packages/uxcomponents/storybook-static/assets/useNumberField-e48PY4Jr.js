import{$ as ta}from"./useControlledState-Dbnf3Bgn.js";import{$ as D,a as X,c as oe}from"./NumberFormatter-ZLOyqEzC.js";import{$ as na,a as ua}from"./useFormValidation-Ds18tznt.js";import{a as sa,$ as da}from"./useSpinButton-DnKb5R-H.js";import{r as s}from"./iframe-D6Fs4So_.js";import{d as j,i as J,a as oa,$ as ca}from"./index-BhyzFoYa.js";import{c as fa,b as ba,q as ma,e as $a,d as pa}from"./useFocusRing-D9TQlOey.js";import{$ as va}from"./useFormReset-WNSJlShQ.js";import{$ as xa}from"./useEvent-D01Fmv3r.js";import{$ as La}from"./useTextField-2IIulxt5.js";import{a as Da}from"./useKeyboard-Clt4deHt.js";import{$ as Fa}from"./useLocalizedStringFormatter-D0E0W94r.js";import{$ as ce}from"./useNumberFormatter-D89MBoUX.js";function Na(e,a){let{onScroll:l,isDisabled:u}=e,d=s.useCallback(t=>{t.ctrlKey||(t.preventDefault(),t.stopPropagation(),l&&l({deltaX:t.deltaX,deltaY:t.deltaY}))},[l]);xa(a,"wheel",u?void 0:d)}function fe(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Pa(e,a,l){let u=Da(i=>{let r=l.current;if(!r)return;let b=null;switch(i.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":b=r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteContentForward":b=r.selectionEnd===r.selectionStart?r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd+1):r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteContentBackward":b=r.selectionEnd===r.selectionStart?r.value.slice(0,r.selectionStart-1)+r.value.slice(r.selectionStart):r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":b=r.value.slice(r.selectionStart);break;default:i.data!=null&&(b=r.value.slice(0,r.selectionStart)+i.data+r.value.slice(r.selectionEnd));break}(b==null||!a.validate(b))&&i.preventDefault()});s.useEffect(()=>{if(!fe()||!l.current)return;let i=l.current;return i.addEventListener("beforeinput",u,!1),()=>{i.removeEventListener("beforeinput",u,!1)}},[l]);let d=fe()?null:i=>{let r=i.target.value.slice(0,i.target.selectionStart)+i.data+i.target.value.slice(i.target.selectionEnd);a.validate(r)||i.preventDefault()},{labelProps:t,inputProps:o,descriptionProps:p,errorMessageProps:f,...F}=La(e,l),v=s.useRef(null);return{inputProps:j(o,{onBeforeInput:d,onCompositionStart(){let{value:i,selectionStart:r,selectionEnd:b}=l.current;v.current={value:i,selectionStart:r,selectionEnd:b}},onCompositionEnd(){if(l.current&&!a.validate(l.current.value)){let{value:i,selectionStart:r,selectionEnd:b}=v.current;l.current.value=i,l.current.setSelectionRange(r,b),a.setInputValue(i)}}}),labelProps:t,descriptionProps:p,errorMessageProps:f,...F}}function Ra(e){let{minValue:a,maxValue:l,step:u,formatOptions:d,value:t,defaultValue:o=NaN,onChange:p,locale:f,isDisabled:F,isReadOnly:v}=e;t===null&&(t=NaN),t!==void 0&&!isNaN(t)&&(u!==void 0&&!isNaN(u)?t=D(t,a,l,u):t=X(t,a,l)),isNaN(o)||(u!==void 0&&!isNaN(u)?o=D(o,a,l,u):o=X(o,a,l));let[i,r]=ta(t,isNaN(o)?NaN:o,p),[b]=s.useState(i),[N,x]=s.useState(()=>isNaN(i)?"":new oe(f,d).format(i)),P=s.useMemo(()=>new sa(f,d),[f,d]),y=s.useMemo(()=>P.getNumberingSystem(N),[P,N]),S=s.useMemo(()=>new oe(f,{...d,numberingSystem:y}),[f,d,y]),K=s.useMemo(()=>S.resolvedOptions(),[S]),L=s.useCallback(n=>isNaN(n)||n===null?"":S.format(n),[S]),C=na({...e,value:i}),m=u!==void 0&&!isNaN(u)?u:1;K.style==="percent"&&(u===void 0||isNaN(u))&&(m=.01);let[M,W]=s.useState(i),[k,U]=s.useState(f),[g,z]=s.useState(d);(!Object.is(i,M)||f!==k||d!==g)&&(x(L(i)),W(i),U(f),z(d));let c=s.useMemo(()=>P.parse(N),[P,N]),O=()=>{if(!N.length){r(NaN),x(t===void 0?"":L(i));return}if(isNaN(c)){x(L(i));return}let n;u===void 0||isNaN(u)?n=X(c,a,l):n=D(c,a,l,u),n=P.parse(L(n)),r(n),x(L(t===void 0?n:i)),C.commitValidation()},h=(n,R=0)=>{let E=c;if(isNaN(E)){let V=isNaN(R)?0:R;return D(V,a,l,m)}else{let V=D(E,a,l,m);return n==="+"&&V>E||n==="-"&&V<E?V:D(Q(n,E,m),a,l,m)}},w=()=>{let n=h("+",a);n===i&&x(L(n)),r(n),C.commitValidation()},q=()=>{let n=h("-",l);n===i&&x(L(n)),r(n),C.commitValidation()},T=()=>{l!=null&&(r(D(l,a,l,m)),C.commitValidation())},Z=()=>{a!=null&&(r(a),C.commitValidation())},A=s.useMemo(()=>!F&&!v&&(isNaN(c)||l===void 0||isNaN(l)||D(c,a,l,m)>c||Q("+",c,m)<=l),[F,v,a,l,m,c]),_=s.useMemo(()=>!F&&!v&&(isNaN(c)||a===void 0||isNaN(a)||D(c,a,l,m)<c||Q("-",c,m)>=a),[F,v,a,l,m,c]);return{...C,validate:n=>P.isValidPartialNumber(n,a,l),increment:w,incrementToMax:T,decrement:q,decrementToMin:Z,canIncrement:A,canDecrement:_,minValue:a,maxValue:l,numberValue:c,defaultNumberValue:isNaN(o)?b:o,setNumberValue:r,setInputValue:x,inputValue:N,commit:O}}function Q(e,a,l){let u=e==="+"?a+l:a-l;if(a%1!==0||l%1!==0){const d=a.toString().split("."),t=l.toString().split("."),o=d[1]&&d[1].length||0,p=t[1]&&t[1].length||0,f=Math.pow(10,Math.max(o,p));a=Math.round(a*f),l=Math.round(l*f),u=e==="+"?a+l:a-l,u/=f}return u}var be={};be={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var me={};me={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var $e={};$e={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var pe={};pe={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var ve={};ve={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var xe={};xe={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var Le={};Le={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var De={};De={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Fe={};Fe={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Ne={};Ne={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Pe={};Pe={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Ce={};Ce={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Ee={};Ee={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ve={};Ve={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Be={};Be={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Se={};Se={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var ge={};ge={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var he={};he={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var ye={};ye={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Me={};Me={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var ke={};ke={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var we={};we={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Ie={};Ie={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Oe={};Oe={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Te={};Te={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Ae={};Ae={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var Re={};Re={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var je={};je={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ke={};Ke={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var We={};We={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ue={};Ue={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var ze={};ze={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var qe={};qe={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ze={};Ze={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var _e={};_e={"ar-AE":be,"bg-BG":me,"cs-CZ":$e,"da-DK":pe,"de-DE":ve,"el-GR":xe,"en-US":Le,"es-ES":De,"et-EE":Fe,"fi-FI":Ne,"fr-FR":Pe,"he-IL":Ce,"hr-HR":Ee,"hu-HU":Ve,"it-IT":Be,"ja-JP":Se,"ko-KR":ge,"lt-LT":he,"lv-LV":ye,"nb-NO":Me,"nl-NL":ke,"pl-PL":we,"pt-BR":Ie,"pt-PT":Oe,"ro-RO":Te,"ru-RU":Ae,"sk-SK":Re,"sl-SI":je,"sr-SP":Ke,"sv-SE":We,"tr-TR":Ue,"uk-UA":ze,"zh-CN":qe,"zh-TW":Ze};function Ca(e){return e&&e.__esModule?e.default:e}function ja(e,a,l){let{id:u,decrementAriaLabel:d,incrementAriaLabel:t,isDisabled:o,isReadOnly:p,isRequired:f,minValue:F,maxValue:v,autoFocus:i,label:r,formatOptions:b,onBlur:N=()=>{},onFocus:x,onFocusChange:P,onKeyDown:y,onKeyUp:S,description:K,errorMessage:L,isWheelDisabled:C,...m}=e,{increment:M,incrementToMax:W,decrement:k,decrementToMin:U,numberValue:g,inputValue:z,commit:c,commitValidation:O}=a;const h=Fa(Ca(_e),"@react-aria/numberfield");let w=J(u),{focusProps:q}=fa({onBlur(){c()}}),T=ce(b),Z=s.useMemo(()=>T.resolvedOptions(),[T]),A=ce({...b,currencySign:void 0}),_=s.useMemo(()=>isNaN(g)?"":A.format(g),[A,g]),{spinButtonProps:ee,incrementButtonProps:n,decrementButtonProps:R}=da({isDisabled:o,isReadOnly:p,isRequired:f,maxValue:v,minValue:F,onIncrement:M,onIncrementToMax:W,onDecrement:k,onDecrementToMin:U,value:g,textValue:_}),[E,V]=s.useState(!1),{focusWithinProps:Ye}=ba({isDisabled:o,onFocusWithinChange:V}),He=s.useCallback($=>{Math.abs($.deltaY)<=Math.abs($.deltaX)||($.deltaY>0?M():$.deltaY<0&&k())},[k,M]);Na({onScroll:He,isDisabled:C||o||p||!E},l);var Y;let ae=((Y=Z.maximumFractionDigits)!==null&&Y!==void 0?Y:0)>0,le=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,I="numeric";ma()?le?I="text":ae&&(I="decimal"):$a()&&(le?I="numeric":ae&&(I="decimal"));let Ge=$=>{a.validate($)&&a.setInputValue($)},Xe=oa(e),re=s.useCallback($=>{$.nativeEvent.isComposing||($.key==="Enter"?(c(),O()):$.continuePropagation())},[c,O]),{isInvalid:ie,validationErrors:Je,validationDetails:Qe}=a.displayValidation,{labelProps:te,inputProps:ea,descriptionProps:aa,errorMessageProps:la}=Pa({...m,...Xe,name:void 0,form:void 0,label:r,autoFocus:i,isDisabled:o,isReadOnly:p,isRequired:f,validate:void 0,[ua]:a,value:z,defaultValue:"!",autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:w,type:"text",inputMode:I,onChange:Ge,onBlur:N,onFocus:x,onFocusChange:P,onKeyDown:s.useMemo(()=>ca(re,y),[re,y]),onKeyUp:S,description:K,errorMessage:L},a,l);va(l,a.defaultNumberValue,a.setNumberValue);let ne=j(ee,q,ea,{role:null,"aria-roledescription":pa()?null:h.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(ne["aria-required"]=void 0);let ue=$=>{var G;document.activeElement!==l.current&&($.pointerType==="mouse"?(G=l.current)===null||G===void 0||G.focus():$.target.focus())},H=e["aria-label"]||(typeof e.label=="string"?e.label:""),B;H||(B=e.label!=null?te.id:e["aria-labelledby"]);let se=J(),de=J(),ra=j(n,{"aria-label":t||h.format("increase",{fieldLabel:H}).trim(),id:B&&!t?se:null,"aria-labelledby":B&&!t?`${se} ${B}`:null,"aria-controls":w,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ue}),ia=j(R,{"aria-label":d||h.format("decrease",{fieldLabel:H}).trim(),id:B&&!d?de:null,"aria-labelledby":B&&!d?`${de} ${B}`:null,"aria-controls":w,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ue});return{groupProps:{...Ye,role:"group","aria-disabled":o,"aria-invalid":ie?"true":void 0},labelProps:te,inputProps:ne,incrementButtonProps:ra,decrementButtonProps:ia,errorMessageProps:la,descriptionProps:aa,isInvalid:ie,validationErrors:Je,validationDetails:Qe}}export{Ra as $,Na as a,Pa as b,ja as c};
