import{k as x,m as p,j as n,a as u,c as m}from"./useFocusRing-D9TQlOey.js";import{b as P,$ as v}from"./useKeyboard-Clt4deHt.js";import{m as F,n as E,d as i}from"./index-BhyzFoYa.js";import{R as d,r as $}from"./iframe-D6Fs4So_.js";function C(e,r){F(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}function h(e){const r=x(e);if(p()==="virtual"){let t=n(r);P(()=>{const f=n(r);(f===t||f===r.body)&&e.isConnected&&u(e)})}else u(e)}let l=d.createContext(null);function D(e){let r=$.useContext(l)||{};C(r,e);let{ref:t,...f}=r;return f}const y=d.forwardRef(function(r,t){let{children:f,...a}=r,c=E(t),o={...a,ref:c};return d.createElement(l.Provider,{value:o},f)});function I(e,r){let{focusProps:t}=m(e),{keyboardProps:f}=v(e),a=i(t,f),c=D(r),o=e.isDisabled?{}:c,b=$.useRef(e.autoFocus);$.useEffect(()=>{b.current&&r.current&&h(r.current),b.current=!1},[r]);let s=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(s=void 0),{focusableProps:i({...a,tabIndex:s},o)}}export{I as $,C as a,h as b,l as c,y as d};
