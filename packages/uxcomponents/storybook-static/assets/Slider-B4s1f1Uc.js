import{d as L,b as Q,j as le,f as j,a as oe,g as ue,c as Y,e as pe}from"./index-BhyzFoYa.js";import{$ as de}from"./Label-CecVYQ3_.js";import{r as u,R as H}from"./iframe-D6Fs4So_.js";import{$ as ve}from"./useNumberFormatter-D89MBoUX.js";import{$ as Te}from"./useControlledState-Dbnf3Bgn.js";import{$ as X,a as Z}from"./NumberFormatter-ZLOyqEzC.js";import{$ as se,H as Pe,a as De,g as ce,f as xe}from"./useFocusRing-D9TQlOey.js";import{$ as fe}from"./useMove-lZYEc65B.js";import{$ as be}from"./useLabel-BvROEfP_.js";import{$ as me}from"./context-TYPMPinS.js";import{$ as Ve}from"./useFormReset-WNSJlShQ.js";import{$ as we}from"./useKeyboard-Clt4deHt.js";import{$ as ye}from"./useFocusable-DQgo1lwm.js";import{a as Ee}from"./VisuallyHidden-CYtzeH6S.js";const Re=0,Me=100,Se=1;function ke(n){const{isDisabled:e=!1,minValue:t=Re,maxValue:o=Me,numberFormatter:x,step:i=Se,orientation:v="horizontal"}=n;let g=u.useMemo(()=>{let r=(o-t)/10;return r=X(r,0,r+i,i),Math.max(r,i)},[i,o,t]),d=u.useCallback(r=>r?.map((f,p)=>{let U=p===0?t:r[p-1],B=p===r.length-1?o:r[p+1];return X(f,U,B,i)}),[t,o,i]),T=u.useMemo(()=>d(ae(n.value)),[n.value,d]),s=u.useMemo(()=>{var r;return d((r=ae(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t,d]),w=ie(n.value,n.defaultValue,n.onChange),h=ie(n.value,n.defaultValue,n.onChangeEnd);const[c,S]=Te(T,s,w);let[E]=u.useState(c);const[P,a]=u.useState(new Array(c.length).fill(!1)),$=u.useRef(new Array(c.length).fill(!0)),[y,k]=u.useState(void 0),m=u.useRef(c),b=u.useRef(P);let _=r=>{m.current=r,S(r)},C=r=>{b.current=r,a(r)};function z(r){return(r-t)/(o-t)}function G(r){return r===0?t:c[r-1]}function N(r){return r===c.length-1?o:c[r+1]}function A(r){return $.current[r]}function I(r,f){$.current[r]=f}function D(r,f){if(e||!A(r))return;const p=G(r),U=N(r);f=X(f,p,U,i);let B=ne(m.current,r,f);_(B)}function V(r,f){if(e||!A(r))return;f&&(m.current=c);const p=b.current[r];b.current=ne(b.current,r,f),C(b.current),h&&p&&!b.current.some(Boolean)&&h(m.current)}function R(r){return x.format(r)}function l(r,f){D(r,F(f))}function M(r){return Math.round((r-t)/i)*i+t}function F(r){const f=r*(o-t)+t;return Z(M(f),t,o)}function K(r,f=1){let p=Math.max(f,i);D(r,X(c[r]+p,t,o,i))}function O(r,f=1){let p=Math.max(f,i);D(r,X(c[r]-p,t,o,i))}return{values:c,defaultValues:n.defaultValue!==void 0?s:E,getThumbValue:r=>c[r],setThumbValue:D,setThumbPercent:l,isThumbDragging:r=>P[r],setThumbDragging:V,focusedThumb:y,setFocusedThumb:k,getThumbPercent:r=>z(c[r]),getValuePercent:z,getThumbValueLabel:r=>R(c[r]),getFormattedValue:R,getThumbMinValue:G,getThumbMaxValue:N,getPercentValue:F,isThumbEditable:A,setThumbEditable:I,incrementThumb:K,decrementThumb:O,step:i,pageSize:g,orientation:v,isDisabled:e}}function ne(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function ae(n){if(n!=null)return Array.isArray(n)?n:[n]}function ie(n,e,t){return o=>{t?.(typeof n=="number"||typeof e=="number"?o[0]:o)}}const ee=new WeakMap;function J(n,e){let t=ee.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Fe(n,e,t){let{labelProps:o,fieldProps:x}=be(n),i=n.orientation==="vertical";var v;ee.set(e,{id:(v=o.id)!==null&&v!==void 0?v:x.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:g}=me(),{addGlobalListener:d,removeGlobalListener:T}=se();const s=u.useRef(null),w=g==="rtl",h=u.useRef(null),{moveProps:c}=fe({onMoveStart(){h.current=null},onMove({deltaX:a,deltaY:$}){if(!t.current)return;let{height:y,width:k}=t.current.getBoundingClientRect(),m=i?y:k;h.current==null&&s.current!=null&&(h.current=e.getThumbPercent(s.current)*m);let b=i?$:a;if((i||w)&&(b=-b),h.current+=b,s.current!=null&&t.current){const _=Z(h.current/m,0,1);e.setThumbPercent(s.current,_)}},onMoveEnd(){s.current!=null&&(e.setThumbDragging(s.current,!1),s.current=null)}});let S=u.useRef(void 0),E=(a,$,y,k)=>{if(t.current&&!n.isDisabled&&e.values.every((m,b)=>!e.isThumbDragging(b))){let{height:m,width:b,top:_,left:C}=t.current.getBoundingClientRect(),z=i?m:b,I=((i?k:y)-(i?_:C))/z;(g==="rtl"||i)&&(I=1-I);let D=e.getPercentValue(I),V,R=e.values.findIndex(l=>D-l<0);if(R===0)V=R;else if(R===-1)V=e.values.length-1;else{let l=e.values[R-1],M=e.values[R];Math.abs(l-D)<Math.abs(M-D)?V=R-1:V=R}V>=0&&e.isThumbEditable(V)?(a.preventDefault(),s.current=V,e.setFocusedThumb(V),S.current=$,e.setThumbDragging(s.current,!0),e.setThumbValue(V,D),d(window,"mouseup",P,!1),d(window,"touchend",P,!1),d(window,"pointerup",P,!1)):s.current=null}},P=a=>{var $,y;((y=a.pointerId)!==null&&y!==void 0?y:($=a.changedTouches)===null||$===void 0?void 0:$[0].identifier)===S.current&&(s.current!=null&&(e.setThumbDragging(s.current,!1),s.current=null),T(window,"mouseup",P,!1),T(window,"touchend",P,!1),T(window,"pointerup",P,!1))};return"htmlFor"in o&&o.htmlFor&&(delete o.htmlFor,o.onClick=()=>{var a;(a=document.getElementById(J(e,0)))===null||a===void 0||a.focus(),Pe("keyboard")}),{labelProps:o,groupProps:{role:"group",...x},trackProps:L({onMouseDown(a){a.button!==0||a.altKey||a.ctrlKey||a.metaKey||E(a,void 0,a.clientX,a.clientY)},onPointerDown(a){a.pointerType==="mouse"&&(a.button!==0||a.altKey||a.ctrlKey||a.metaKey)||E(a,a.pointerId,a.clientX,a.clientY)},onTouchStart(a){E(a,a.changedTouches[0].identifier,a.changedTouches[0].clientX,a.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},c),outputProps:{htmlFor:e.values.map((a,$)=>J(e,$)).join(" "),"aria-live":"off"}}}function _e(n,e){let{index:t=0,isRequired:o,validationState:x,isInvalid:i,trackRef:v,inputRef:g,orientation:d=e.orientation,name:T,form:s}=n,w=n.isDisabled||e.isDisabled,h=d==="vertical",{direction:c}=me(),{addGlobalListener:S,removeGlobalListener:E}=se(),P=ee.get(e);var a;const{labelProps:$,fieldProps:y}=be({...n,id:J(e,t),"aria-labelledby":`${P.id} ${(a=n["aria-labelledby"])!==null&&a!==void 0?a:""}`.trim()}),k=e.values[t],m=u.useCallback(()=>{g.current&&De(g.current)},[g]),b=e.focusedThumb===t;u.useEffect(()=>{b&&m()},[b,m]);let _=c==="rtl",C=u.useRef(null),{keyboardProps:z}=we({onKeyDown(l){let{getThumbMaxValue:M,getThumbMinValue:F,decrementThumb:K,incrementThumb:O,setThumbValue:r,setThumbDragging:f,pageSize:p}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(l.key)){l.continuePropagation();return}switch(l.preventDefault(),f(t,!0),l.key){case"PageUp":O(t,p);break;case"PageDown":K(t,p);break;case"Home":r(t,F(t));break;case"End":r(t,M(t));break}f(t,!1)}}),{moveProps:G}=fe({onMoveStart(){C.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:l,deltaY:M,pointerType:F,shiftKey:K}){const{getThumbPercent:O,setThumbPercent:r,decrementThumb:f,incrementThumb:p,step:U,pageSize:B}=e;if(!v.current)return;let{width:he,height:$e}=v.current.getBoundingClientRect(),re=h?$e:he;if(C.current==null&&(C.current=O(t)*re),F==="keyboard")l>0&&_||l<0&&!_||M>0?f(t,K?B:U):p(t,K?B:U);else{let W=h?M:l;(h||_)&&(W=-W),C.current+=W,r(t,Z(C.current/re,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!w);const{focusableProps:N}=ye(L(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),g);let A=u.useRef(void 0),I=l=>{m(),A.current=l,e.setThumbDragging(t,!0),S(window,"mouseup",D,!1),S(window,"touchend",D,!1),S(window,"pointerup",D,!1)},D=l=>{var M,F;((F=l.pointerId)!==null&&F!==void 0?F:(M=l.changedTouches)===null||M===void 0?void 0:M[0].identifier)===A.current&&(m(),e.setThumbDragging(t,!1),E(window,"mouseup",D,!1),E(window,"touchend",D,!1),E(window,"pointerup",D,!1))},V=e.getThumbPercent(t);(h||c==="rtl")&&(V=1-V);let R=w?{}:L(z,G,{onMouseDown:l=>{l.button!==0||l.altKey||l.ctrlKey||l.metaKey||I()},onPointerDown:l=>{l.button!==0||l.altKey||l.ctrlKey||l.metaKey||I(l.pointerId)},onTouchStart:l=>{I(l.changedTouches[0].identifier)}});return Ve(g,e.defaultValues[t],l=>{e.setThumbValue(t,l)}),{inputProps:L(N,y,{type:"range",tabIndex:w?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:k,name:T,form:s,disabled:w,"aria-orientation":d,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":o||void 0,"aria-invalid":i||x==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[P["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[P["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:l=>{e.setThumbValue(t,parseFloat(l.target.value))}}),thumbProps:{...R,style:{position:"absolute",[h?"top":"left"]:`${V*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:$,isDragging:e.isThumbDragging(t),isDisabled:w,isFocused:b}}const Ce=u.createContext(null),q=u.createContext(null),te=u.createContext(null),ge=u.createContext(null),qe=u.forwardRef(function(e,t){[e,t]=Q(e,t,Ce);let o=u.useRef(null),x=ve(e.formatOptions),i=ke({...e,numberFormatter:x}),[v,g]=le(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:d,trackProps:T,labelProps:s,outputProps:w}=Fe({...e,label:g},i,o),h=j({...e,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-Slider"}),c=oe(e,{global:!0});return delete c.id,H.createElement(ue,{values:[[q,i],[te,{...T,ref:o}],[ge,w],[de,{...s,ref:v}]]},H.createElement(Y.div,{...L(c,h,d),ref:t,slot:e.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}),We=u.forwardRef(function(e,t){[e,t]=Q(e,t,ge);let{children:o,style:x,className:i,render:v,...g}=e,d=u.useContext(q),T=j({className:i,style:x,children:o,render:v,defaultChildren:d.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:d.orientation,isDisabled:d.isDisabled,state:d}});return H.createElement(Y.output,{...g,...T,ref:t,"data-orientation":d.orientation||void 0,"data-disabled":d.isDisabled||void 0})}),Je=u.forwardRef(function(e,t){[e,t]=Q(e,t,te);let o=u.useContext(q),{onHoverStart:x,onHoverEnd:i,onHoverChange:v,...g}=e,{hoverProps:d,isHovered:T}=ce({onHoverStart:x,onHoverEnd:i,onHoverChange:v}),s=j({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:o.orientation,isDisabled:o.isDisabled,isHovered:T,state:o}});return H.createElement(Y.div,{...L(g,d),...s,ref:t,"data-hovered":T||void 0,"data-orientation":o.orientation||void 0,"data-disabled":o.isDisabled||void 0})}),Qe=u.forwardRef(function(e,t){let{inputRef:o=null}=e,x=u.useContext(q),{ref:i}=pe(te),{index:v=0}=e,g=u.useRef(null),d=o||g,[T,s]=le(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:w,inputProps:h,labelProps:c,isDragging:S,isFocused:E,isDisabled:P}=_e({...e,index:v,trackRef:i,inputRef:d,label:s},x),{focusProps:a,isFocusVisible:$}=xe(),{hoverProps:y,isHovered:k}=ce(e),m=j({...e,defaultClassName:"react-aria-SliderThumb",values:{state:x,isHovered:k,isDragging:S,isFocused:E,isFocusVisible:$,isDisabled:P}}),b=oe(e,{global:!0});return delete b.id,H.createElement(Y.div,{...L(b,w,y),...m,ref:t,style:{...w.style,...m.style},"data-hovered":k||void 0,"data-dragging":S||void 0,"data-focused":E||void 0,"data-focus-visible":$||void 0,"data-disabled":P||void 0},H.createElement(Ee,null,H.createElement("input",{ref:d,...L(h,a)})),H.createElement(ue,{values:[[de,{...c,ref:T}]]},m.children))});export{ke as $,Fe as a,_e as b,q as c,te as d,ge as e,We as f,Je as g,qe as h,Qe as i};
