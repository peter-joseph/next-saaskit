import{b as s,a as x,l as C}from"./index-BhyzFoYa.js";import{$ as h}from"./ColorSwatch-CTCliNcE.js";import{$ as y}from"./intlStrings-ZMTSFH_M.js";import{$ as g,a as w}from"./ListBox-D6ikhYt-.js";import{r as l,R as d}from"./iframe-D6Fs4So_.js";import{a as b}from"./Color-un__ps5G.js";import{$ as i}from"./useColor-FnN5OzwB.js";import{$ as S}from"./useControlledState-Dbnf3Bgn.js";import{$ as p}from"./useLocalizedStringFormatter-D0E0W94r.js";import{$ as E}from"./context-TYPMPinS.js";function M(a){let e=i(a.value),c=i(a.defaultValue||"#000000"),[r,t]=S(e||void 0,c,a.onChange);return{color:r,setColor(f){f!=null&&t(f||b("#000000"))}}}function P(a){return a&&a.__esModule?a.default:a}const k=l.createContext(null),m=l.createContext(null),z=l.forwardRef(function(e,c){[e,c]=s(e,c,k);let r=M(e),t=l.useMemo(()=>new Map,[]),f=p(P(y),"react-aria-components");return d.createElement(g,{...x(e,{labelable:!0}),ref:c,className:e.className||"react-aria-ColorSwatchPicker",style:e.style,"aria-label":e["aria-label"]||(e["aria-labelledby"]?void 0:f.format("colorSwatchPicker")),layout:e.layout||"grid",selectionMode:"single",selectedKeys:[r.color.toString("hexa")],onSelectionChange:$=>{$!=="all"&&r.setColor(t.get([...$][0]))},disallowEmptySelection:!0},d.createElement(m.Provider,{value:t},e.children))}),A=l.forwardRef(function(e,c){let r=e.color||"#0000",t=l.useMemo(()=>typeof r=="string"?b(r):r,[r]),{locale:f}=E(),$=l.useContext(m);l.useEffect(()=>{let o=t.toString("hexa");return $.set(o,t),()=>{$.delete(o)}},[t,$]);let n=o=>typeof o=="function"?u=>o({...u,color:t}):o;return d.createElement(w,{...e,render:e.render,ref:c,id:t.toString("hexa"),textValue:t.getColorName(f),className:n(e.className||"react-aria-ColorSwatchPickerItem"),style:n(e.style)},C(n(e.children),o=>d.createElement(h.Provider,{value:{color:t}},o)))});export{M as $,k as a,z as b,A as c};
