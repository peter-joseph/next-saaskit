import{a as Tr}from"./Button-BNwiwiqy.js";import{d as w,n as he,i as z,m as X,$ as Ve,p as Br,a as L,r as ae,b as Y,f as Q,c as _,g as K,e as Ue,q as ge,j as Or}from"./index-BhyzFoYa.js";import{e as Be,d as wr,g as Fr}from"./RSPContexts-87WB4FFh.js";import{a as Ir,b as Lr,$ as ze,c as Nr}from"./OverlayArrow-D6aCB5CV.js";import{$ as ye,b as Kr,c as Hr}from"./Collection-Bt7Y5DmF.js";import{$ as Vr,b as Ur}from"./Header-D9CFOVpE.js";import{R as g,r as i}from"./iframe-D6Fs4So_.js";import{$ as zr,a as _r}from"./SelectionIndicator-CmjKQr1o.js";import{a as jr}from"./Separator-CJiA6l5c.js";import{$ as Wr}from"./Text-DDv73jtL.js";import{$ as Gr,a as Zr,b as qr,f as Jr,d as _e,e as Xr,c as Yr}from"./CollectionBuilder-a_G0Hq2G.js";import{$ as Ee}from"./useResizeObserver-DhEKeku7.js";import{i as pe,j as Qr,k as en,l as tn,m as rn}from"./SelectionManager-Ildo9Xoe.js";import{a as ve,$ as nn}from"./usePress-BfQOh29b.js";import{a as on,$ as an,b as xe}from"./useFocusable-DQgo1lwm.js";import{k as ln,l as A,b as un,d as sn,r as cn,a as N,h as dn,g as je,s as Oe,o as fn,p as pn,t as bn}from"./useFocusRing-D9TQlOey.js";import{$ as We}from"./useLocalizedStringFormatter-D0E0W94r.js";import{$ as $n}from"./useSelectableList-Df_lTvxt.js";import{a as Pe,$ as mn}from"./useKeyboard-Clt4deHt.js";import{$ as gn}from"./useEvent-D01Fmv3r.js";import{$ as Ge}from"./context-TYPMPinS.js";import{$ as vn}from"./useTreeState-BMljCYb_.js";import{c as xn,a as Ze}from"./FocusScope-CgNthz1u.js";import{$ as Pn}from"./PortalProvider-DyPxLbdZ.js";import{R as hn}from"./index-D7ediGj1.js";import{$ as yn,a as En}from"./animation-wkmys5gv.js";import{$ as Cn}from"./Hidden-DYMetZpz.js";import{$ as qe}from"./getScrollParent-BVEz9nhD.js";import{$ as Dn}from"./scrollIntoView-BiVEfWHi.js";import{$ as Sn}from"./useLabels-DMXpQ1Zb.js";import{a as Mn}from"./VisuallyHidden-CYtzeH6S.js";const Je=g.forwardRef(({children:t,...e},r)=>{let o=i.useRef(!1),n=i.useContext(ve),a=w(n||{},{...e,register(){o.current=!0,n&&n.register()}});return a.ref=he(r||n?.ref),on(n,a.ref),i.useEffect(()=>{o.current||(o.current=!0)},[]),g.createElement(ve.Provider,{value:a},t)});function kn({children:t}){let e=i.useMemo(()=>({register:()=>{}}),[]);return g.createElement(ve.Provider,{value:e},t)}function An(t){let{ref:e,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:n}=t,a=i.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=Pe(l=>{r&&we(l,e)&&(n&&n(l),a.current.isPointerDown=!0)}),c=Pe(l=>{r&&r(l)});i.useEffect(()=>{let l=a.current;if(o)return;const d=e.current,p=ln(d);if(typeof PointerEvent<"u"){let b=m=>{l.isPointerDown&&we(m,e)&&c(m),l.isPointerDown=!1};return p.addEventListener("pointerdown",u,!0),p.addEventListener("click",b,!0),()=>{p.removeEventListener("pointerdown",u,!0),p.removeEventListener("click",b,!0)}}},[e,o])}function we(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!A(r.documentElement,t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const R=[];function Rn(t,e){let{onClose:r,shouldCloseOnBlur:o,isOpen:n,isDismissable:a=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:c}=t,l=i.useRef(void 0);i.useEffect(()=>{if(n&&!R.includes(e))return R.push(e),()=>{let s=R.indexOf(e);s>=0&&R.splice(s,1)}},[n,e]);let d=()=>{R[R.length-1]===e&&r&&r()},p=s=>{const v=R[R.length-1];l.current=v,(!c||c(s.target))&&v===e&&(s.stopPropagation(),s.preventDefault())},b=s=>{(!c||c(s.target))&&(R[R.length-1]===e&&(s.stopPropagation(),s.preventDefault()),l.current===e&&d()),l.current=void 0},m=s=>{s.key==="Escape"&&!u&&!s.nativeEvent.isComposing&&(s.stopPropagation(),s.preventDefault(),d())};An({ref:e,onInteractOutside:a&&n?b:void 0,onInteractOutsideStart:p});let{focusWithinProps:f}=un({isDisabled:!o,onBlurWithin:s=>{!s.relatedTarget||xn(s.relatedTarget)||(!c||c(s.relatedTarget))&&r?.()}}),P=s=>{s.target===s.currentTarget&&s.preventDefault()};return{overlayProps:{onKeyDown:m,...f},underlayProps:{onPointerDown:P}}}function Xe(t,e,r){let{type:o}=t,{isOpen:n}=e;i.useEffect(()=>{r&&r.current&&Ir.set(r.current,e.close)});let a;o==="menu"?a=!0:o==="listbox"&&(a="listbox");let u=z();return{triggerProps:{"aria-haspopup":a,"aria-expanded":n,"aria-controls":n?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}const q=typeof document<"u"&&window.visualViewport;let ne=0,be;function Tn(t={}){let{isDisabled:e}=t;X(()=>{if(!e)return ne++,ne===1&&(sn()?be=On():be=Bn()),()=>{ne--,ne===0&&be()}},[e])}function Bn(){let t=window.innerWidth-document.documentElement.clientWidth;return Ve(t>0&&("scrollbarGutter"in document.documentElement.style?$e(document.documentElement,"scrollbarGutter","stable"):$e(document.documentElement,"paddingRight",`${t}px`)),$e(document.documentElement,"overflow","hidden"))}function On(){let t,e=!1,r=l=>{let d=l.target;t=Dn(d)?d:qe(d,!0),e=!1;let p=d.ownerDocument.defaultView.getSelection();p&&!p.isCollapsed&&p.containsNode(d,!0)&&(e=!0),l.composedPath().some(b=>b instanceof HTMLInputElement&&b.type==="range")&&(e=!0),"selectionStart"in d&&"selectionEnd"in d&&d.selectionStart<d.selectionEnd&&d.ownerDocument.activeElement===d&&(e=!0)},o=document.createElement("style");o.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(o);let n=l=>{if(!(l.touches.length===2||e)){if(!t||t===document.documentElement||t===document.body){l.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&l.preventDefault()}},a=l=>{let d=l.target,p=l.relatedTarget;if(p&&pe(p))p.focus({preventScroll:!0}),Fe(p,pe(d));else if(!p){var b;let m=(b=d.parentElement)===null||b===void 0?void 0:b.closest("[tabindex]");m?.focus({preventScroll:!0})}},u=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(l){let d=document.activeElement!=null&&pe(document.activeElement);u.call(this,{...l,preventScroll:!0}),(!l||!l.preventScroll)&&Fe(this,d)};let c=Ve(me(document,"touchstart",r,{passive:!1,capture:!0}),me(document,"touchmove",n,{passive:!1,capture:!0}),me(document,"blur",a,!0));return()=>{c(),o.remove(),HTMLElement.prototype.focus=u}}function $e(t,e,r){let o=t.style[e];return t.style[e]=r,()=>{t.style[e]=o}}function me(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}function Fe(t,e){e||!q?Ie(t):q.addEventListener("resize",()=>Ie(t),{once:!0})}function Ie(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let o=qe(r);if(o!==document.documentElement&&o!==document.body&&o!==r){let n=o.getBoundingClientRect(),a=r.getBoundingClientRect();if(a.top<n.top||a.bottom>n.top+r.clientHeight){let u=n.bottom;q&&(u=Math.min(u,q.offsetTop+q.height));let c=a.top-n.top-((u-n.top)/2-a.height/2);o.scrollTo({top:Math.max(0,Math.min(o.scrollHeight-o.clientHeight,o.scrollTop+c)),behavior:"smooth"})}}r=o.parentElement}}var Ye={};Ye={dismiss:"تجاهل"};var Qe={};Qe={dismiss:"Отхвърляне"};var et={};et={dismiss:"Odstranit"};var tt={};tt={dismiss:"Luk"};var rt={};rt={dismiss:"Schließen"};var nt={};nt={dismiss:"Απόρριψη"};var ot={};ot={dismiss:"Dismiss"};var at={};at={dismiss:"Descartar"};var lt={};lt={dismiss:"Lõpeta"};var ut={};ut={dismiss:"Hylkää"};var st={};st={dismiss:"Rejeter"};var it={};it={dismiss:"התעלם"};var ct={};ct={dismiss:"Odbaci"};var dt={};dt={dismiss:"Elutasítás"};var ft={};ft={dismiss:"Ignora"};var pt={};pt={dismiss:"閉じる"};var bt={};bt={dismiss:"무시"};var $t={};$t={dismiss:"Atmesti"};var mt={};mt={dismiss:"Nerādīt"};var gt={};gt={dismiss:"Lukk"};var vt={};vt={dismiss:"Negeren"};var xt={};xt={dismiss:"Zignoruj"};var Pt={};Pt={dismiss:"Descartar"};var ht={};ht={dismiss:"Dispensar"};var yt={};yt={dismiss:"Revocare"};var Et={};Et={dismiss:"Пропустить"};var Ct={};Ct={dismiss:"Zrušiť"};var Dt={};Dt={dismiss:"Opusti"};var St={};St={dismiss:"Odbaci"};var Mt={};Mt={dismiss:"Avvisa"};var kt={};kt={dismiss:"Kapat"};var At={};At={dismiss:"Скасувати"};var Rt={};Rt={dismiss:"取消"};var Tt={};Tt={dismiss:"關閉"};var Bt={};Bt={"ar-AE":Ye,"bg-BG":Qe,"cs-CZ":et,"da-DK":tt,"de-DE":rt,"el-GR":nt,"en-US":ot,"es-ES":at,"et-EE":lt,"fi-FI":ut,"fr-FR":st,"he-IL":it,"hr-HR":ct,"hu-HU":dt,"it-IT":ft,"ja-JP":pt,"ko-KR":bt,"lt-LT":$t,"lv-LV":mt,"nb-NO":gt,"nl-NL":vt,"pl-PL":xt,"pt-BR":Pt,"pt-PT":ht,"ro-RO":yt,"ru-RU":Et,"sk-SK":Ct,"sl-SI":Dt,"sr-SP":St,"sv-SE":Mt,"tr-TR":kt,"uk-UA":At,"zh-CN":Rt,"zh-TW":Tt};function wn(t){return t&&t.__esModule?t.default:t}function Le(t){let{onDismiss:e,...r}=t,o=We(wn(Bt),"@react-aria/overlays"),n=Sn(r,o.format("dismiss")),a=()=>{e&&e()};return g.createElement(Mn,null,g.createElement("button",{...n,tabIndex:-1,onClick:a,style:{width:1,height:1}}))}const Fn=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let Z=new WeakMap,M=[];function In(t,e){let r=cn(t?.[0]),o=e instanceof r.Element?{root:e}:e;var n;let a=(n=o?.root)!==null&&n!==void 0?n:document.body,u=o?.shouldUseInert&&Fn,c=new Set(t),l=new Set,d=s=>u&&s instanceof r.HTMLElement?s.inert:s.getAttribute("aria-hidden")==="true",p=(s,v)=>{u&&s instanceof r.HTMLElement?s.inert=v:v?s.setAttribute("aria-hidden","true"):(s.removeAttribute("aria-hidden"),s instanceof r.HTMLElement&&(s.inert=!1))},b=s=>{for(let h of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))c.add(h);let v=h=>{if(l.has(h)||c.has(h)||h.parentElement&&l.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let S of c)if(A(h,S))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},x=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),C=v(s);if(C===NodeFilter.FILTER_ACCEPT&&m(s),C!==NodeFilter.FILTER_REJECT){let h=x.nextNode();for(;h!=null;)m(h),h=x.nextNode()}},m=s=>{var v;let x=(v=Z.get(s))!==null&&v!==void 0?v:0;d(s)&&x===0||(x===0&&p(s,!0),l.add(s),Z.set(s,x+1))};M.length&&M[M.length-1].disconnect(),b(a);let f=new MutationObserver(s=>{for(let v of s)if(v.type==="childList"&&v.target.isConnected&&![...c,...l].some(x=>A(x,v.target)))for(let x of v.addedNodes)(x instanceof HTMLElement||x instanceof SVGElement)&&(x.dataset.liveAnnouncer==="true"||x.dataset.reactAriaTopLayer==="true")?c.add(x):x instanceof Element&&b(x)});f.observe(a,{childList:!0,subtree:!0});let P={visibleNodes:c,hiddenNodes:l,observe(){f.observe(a,{childList:!0,subtree:!0})},disconnect(){f.disconnect()}};return M.push(P),()=>{f.disconnect();for(let s of l){let v=Z.get(s);v!=null&&(v===1?(p(s,!1),Z.delete(s)):Z.set(s,v-1))}P===M[M.length-1]?(M.pop(),M.length&&M[M.length-1].observe()):M.splice(M.indexOf(P),1)}}function Ln(t){let e=M[M.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function Nn(t,e){let{triggerRef:r,popoverRef:o,groupRef:n,isNonModal:a,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:c,...l}=t,d=l.trigger==="SubmenuTrigger",{overlayProps:p,underlayProps:b}=Rn({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!a||d,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:c},n??o),{overlayProps:m,arrowProps:f,placement:P,triggerAnchorPoint:s}=Lr({...l,targetRef:r,overlayRef:o,isOpen:e.isOpen,onClose:a&&!d?e.close:null});return Tn({isDisabled:a||!e.isOpen}),i.useEffect(()=>{if(e.isOpen&&o.current){var v,x;return a?Ln((v=n?.current)!==null&&v!==void 0?v:o.current):In([(x=n?.current)!==null&&x!==void 0?x:o.current],{shouldUseInert:!0})}},[a,e.isOpen,o,n]),{popoverProps:w(p,m),arrowProps:f,underlayProps:b,placement:P,triggerAnchorPoint:s}}const Ot=g.createContext(null);function Ne(t){let e=Br(),{portalContainer:r=e?null:document.body,isExiting:o}=t,[n,a]=i.useState(!1),u=i.useMemo(()=>({contain:n,setContain:a}),[n,a]),{getContainer:c}=Pn();if(!t.portalContainer&&c&&(r=c()),!r)return null;let l=t.children;return t.disableFocusManagement||(l=g.createElement(Ze,{restoreFocus:!0,contain:(t.shouldContainFocus||n)&&!o},l)),l=g.createElement(Ot.Provider,{value:u},g.createElement(kn,null,l)),hn.createPortal(l,r)}function Kn(){let t=i.useContext(Ot),e=t?.setContain;X(()=>{e?.(!0)},[e])}var wt={};wt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Ft={};Ft={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var It={};It={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Lt={};Lt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Nt={};Nt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Kt={};Kt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Ht={};Ht={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Vt={};Vt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ut={};Ut={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var zt={};zt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var _t={};_t={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var jt={};jt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Wt={};Wt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Gt={};Gt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Zt={};Zt={longPressMessage:"Premi a lungo o premi Alt + Freccia giù per aprire il menu"};var qt={};qt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Jt={};Jt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Xt={};Xt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Yt={};Yt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Qt={};Qt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var er={};er={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var tr={};tr={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var rr={};rr={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var nr={};nr={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var or={};or={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var ar={};ar={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var lr={};lr={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ur={};ur={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var sr={};sr={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ir={};ir={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var cr={};cr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var dr={};dr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var fr={};fr={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var pr={};pr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var br={};br={"ar-AE":wt,"bg-BG":Ft,"cs-CZ":It,"da-DK":Lt,"de-DE":Nt,"el-GR":Kt,"en-US":Ht,"es-ES":Vt,"et-EE":Ut,"fi-FI":zt,"fr-FR":_t,"he-IL":jt,"hr-HR":Wt,"hu-HU":Gt,"it-IT":Zt,"ja-JP":qt,"ko-KR":Jt,"lt-LT":Xt,"lv-LV":Yt,"nb-NO":Qt,"nl-NL":er,"pl-PL":tr,"pt-BR":rr,"pt-PT":nr,"ro-RO":or,"ru-RU":ar,"sk-SK":lr,"sl-SI":ur,"sr-SP":sr,"sv-SE":ir,"tr-TR":cr,"uk-UA":dr,"zh-CN":fr,"zh-TW":pr};function Hn(t){return t&&t.__esModule?t.default:t}function Vn(t,e,r){let{type:o="menu",isDisabled:n,trigger:a="press"}=t,u=z(),{triggerProps:c,overlayProps:l}=Xe({type:o},e,r),d=f=>{if(!n&&!(a==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(a==="longPress"||f.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},p=We(Hn(br),"@react-aria/menu"),{longPressProps:b}=Qr({isDisabled:n||a!=="longPress",accessibilityDescription:p.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),m={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!n&&(N(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!n&&(N(f.target),e.toggle())}};return delete c.onPress,{menuTriggerProps:{...c,...a==="press"?m:b,id:u,onKeyDown:d},menuProps:{...l,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const $r=new WeakMap;function Un(t,e,r){let{shouldFocusWrap:o=!0,onKeyDown:n,onKeyUp:a,...u}=t;!t["aria-label"]&&t["aria-labelledby"];let c=L(t,{labelable:!0}),{listProps:l}=$n({...u,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return $r.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:w(c,{onKeyDown:n,onKeyUp:a},{role:"menu",...l,onKeyDown:d=>{var p;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((p=l.onKeyDown)===null||p===void 0||p.call(l,d))}})}}function zn(t,e,r){let{id:o,key:n,closeOnSelect:a,shouldCloseOnSelect:u,isVirtualized:c,"aria-haspopup":l,onPressStart:d,onPressUp:p,onPress:b,onPressChange:m,onPressEnd:f,onClick:P,onHoverStart:s,onHoverChange:v,onHoverEnd:x,onKeyDown:C,onKeyUp:h,onFocus:S,onFocusChange:T,onBlur:F,selectionManager:E=e.selectionManager}=t,$=!!l,k=$&&t["aria-expanded"]==="true";var B;let I=(B=t.isDisabled)!==null&&B!==void 0?B:E.isDisabled(n);var W;let te=(W=t.isSelected)!==null&&W!==void 0?W:E.isSelected(n),O=$r.get(e),D=e.collection.getItem(n),H=t.onClose||O.onClose,Pr=dn(),hr=()=>{var y;if(!$&&(!(D==null||(y=D.props)===null||y===void 0)&&y.onAction?D.props.onAction():t.onAction&&t.onAction(n),O.onAction)){let G=O.onAction;G(n)}},ie="menuitem";$||(E.selectionMode==="single"?ie="menuitemradio":E.selectionMode==="multiple"&&(ie="menuitemcheckbox"));let Se=ae(),Me=ae(),ke=ae(),re={id:o,"aria-disabled":I||void 0,role:ie,"aria-label":t["aria-label"],"aria-labelledby":Se,"aria-describedby":[Me,ke].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};E.selectionMode!=="none"&&!$&&(re["aria-checked"]=te),c&&(re["aria-posinset"]=D?.index,re["aria-setsize"]=Vr(e.collection));let Ae=i.useRef(!1),yr=y=>{m?.(y),Ae.current=y},V=i.useRef(null),Er=y=>{y.pointerType!=="keyboard"&&(V.current={pointerType:y.pointerType}),y.pointerType==="mouse"&&(Ae.current||y.target.click()),p?.(y)},Cr=y=>{var G,ce;P?.(y),hr(),pn(y,Pr,D.props.href,D?.props.routerOptions);let de=((G=V.current)===null||G===void 0?void 0:G.pointerType)==="keyboard"?((ce=V.current)===null||ce===void 0?void 0:ce.key)==="Enter"||E.selectionMode==="none"||E.isLink(n):E.selectionMode!=="multiple"||E.isLink(n);var fe;de=(fe=u??a)!==null&&fe!==void 0?fe:de,H&&!$&&de&&H(),V.current=null},{itemProps:U,isFocused:Re}=en({id:o,selectionManager:E,key:n,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:O.shouldUseVirtualFocus}),{pressProps:Dr,isPressed:Sr}=nn({onPressStart:d,onPress:b,onPressUp:Er,onPressChange:yr,onPressEnd:f,isDisabled:I}),{hoverProps:Mr}=je({isDisabled:I,onHoverStart(y){!Oe()&&!(k&&l)&&(E.setFocused(!0),E.setFocusedKey(n)),s?.(y)},onHoverChange:v,onHoverEnd:x}),{keyboardProps:kr}=mn({onKeyDown:y=>{if(y.repeat){y.continuePropagation();return}switch(y.key){case" ":V.current={pointerType:"keyboard",key:" "},y.target.click();break;case"Enter":V.current={pointerType:"keyboard",key:"Enter"},y.target.tagName!=="A"&&y.target.click();break;default:$||y.continuePropagation(),C?.(y);break}},onKeyUp:h}),{focusableProps:Ar}=an({onBlur:F,onFocus:S,onFocusChange:T},r),Te=L(D?.props);delete Te.id;let Rr=fn(D?.props);return{menuItemProps:{...re,...w(Te,Rr,$?{onFocus:U.onFocus,"data-collection":U["data-collection"],"data-key":U["data-key"]}:U,Dr,Mr,kr,Ar,O.shouldUseVirtualFocus||$?{onMouseDown:y=>y.preventDefault()}:void 0,I?void 0:{onClick:Cr}),tabIndex:U.tabIndex!=null&&k&&!O.shouldUseVirtualFocus?-1:U.tabIndex},labelProps:{id:Se},descriptionProps:{id:Me},keyboardShortcutProps:{id:ke},isFocused:Re,isFocusVisible:Re&&E.isFocused&&Oe()&&!k,isSelected:te,isPressed:Sr,isDisabled:I}}function _n(t){let{heading:e,"aria-label":r}=t,o=z();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?o:void 0}}}const oe=2,jn=50,Wn=1e3,Ke=Math.PI/12;function Gn(t){let{menuRef:e,submenuRef:r,isOpen:o,isDisabled:n}=t,a=i.useRef(void 0),u=i.useRef(void 0),c=i.useRef(0),l=i.useRef(void 0),d=i.useRef(void 0),p=i.useRef(void 0),b=i.useRef(2),[m,f]=i.useState(!1);Ee({ref:r,onResize:()=>{r.current&&(u.current=r.current.getBoundingClientRect(),p.current=void 0)}});let s=()=>{f(!1),b.current=oe,a.current=void 0},v=bn(),x=Pe(C=>{m&&C.preventDefault()});i.useEffect(()=>{m&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,m]),X(()=>{let C=r.current,h=e.current;if(n||!C||!o||v!=="pointer"||!h){s();return}u.current=C.getBoundingClientRect();let S=T=>{if(T.pointerType==="touch"||T.pointerType==="pen")return;let F=Date.now();if(F-c.current<jn)return;clearTimeout(l.current),clearTimeout(d.current);let{clientX:E,clientY:$}=T;if(!a.current){a.current={x:E,y:$};return}if(!u.current)return;if(p.current||(p.current=E>u.current.right?"left":"right"),E<h.getBoundingClientRect().left||E>h.getBoundingClientRect().right||$<h.getBoundingClientRect().top||$>h.getBoundingClientRect().bottom){s();return}let k=a.current.x,B=a.current.y,I=p.current==="right"?u.current.left-k:k-u.current.right,W=Math.atan2(B-u.current.top,I)+Ke,te=Math.atan2(B-u.current.bottom,I)-Ke,O=Math.atan2(B-$,p.current==="left"?-(E-k):E-k),D=O<W&&O>te;b.current=D?Math.min(b.current+1,oe):Math.max(b.current-1,0),b.current>=oe?f(!0):f(!1),c.current=F,a.current={x:E,y:$},D&&(l.current=setTimeout(()=>{s(),d.current=setTimeout(()=>{let H=document.elementFromPoint(E,$);H&&A(h,H)&&H.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},Wn))};return window.addEventListener("pointermove",S),window.addEventListener("pointerdown",x,!0),()=>{window.removeEventListener("pointermove",S),window.removeEventListener("pointerdown",x,!0),clearTimeout(l.current),clearTimeout(d.current),b.current=oe}},[n,o,e,v,f,r])}function Zn(t,e,r){let{parentMenuRef:o,submenuRef:n,type:a="menu",isDisabled:u,delay:c=200,shouldUseVirtualFocus:l}=t,d=z(),p=z(),{direction:b}=Ge(),m=i.useRef(void 0),f=i.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=void 0)},[m]),P=i.useCallback($=>{f(),e.open($)},[e,f]),s=i.useCallback(()=>{f(),e.close()},[e,f]);X(()=>()=>{f()},[f]);let v=$=>{if(A($.currentTarget,document.activeElement))switch($.key){case"ArrowLeft":b==="ltr"&&A($.currentTarget,$.target)&&($.preventDefault(),$.stopPropagation(),s(),!l&&r.current&&N(r.current));break;case"ArrowRight":b==="rtl"&&A($.currentTarget,$.target)&&($.preventDefault(),$.stopPropagation(),s(),!l&&r.current&&N(r.current));break;case"Escape":A(n.current,$.target)&&($.stopPropagation(),s(),!l&&r.current&&N(r.current));break}};var x;let C={id:p,"aria-labelledby":d,submenuLevel:e.submenuLevel,...a==="menu"&&{onClose:e.closeAll,autoFocus:(x=e.focusStrategy)!==null&&x!==void 0?x:void 0,onKeyDown:v}},h=$=>{switch($.key){case"ArrowRight":u||(b==="ltr"?($.preventDefault(),e.isOpen||P("first"),a==="menu"&&n?.current&&document.activeElement===r?.current&&N(n.current)):e.isOpen?s():$.continuePropagation());break;case"ArrowLeft":u||(b==="rtl"?($.preventDefault(),e.isOpen||P("first"),a==="menu"&&n?.current&&document.activeElement===r?.current&&N(n.current)):e.isOpen?s():$.continuePropagation());break;default:$.continuePropagation();break}},S=$=>{!u&&($.pointerType==="virtual"||$.pointerType==="keyboard")&&P("first")},T=$=>{!u&&($.pointerType==="touch"||$.pointerType==="mouse")&&P()},F=$=>{u||($&&!e.isOpen?m.current||(m.current=setTimeout(()=>{P()},c)):$||f())};gn(o,"focusin",$=>{e.isOpen&&A(o.current,$.target)&&$.target!==r.current&&s()});let E=$=>$!==r.current;return Gn({menuRef:o,submenuRef:n,isOpen:e.isOpen,isDisabled:u}),{submenuTriggerProps:{id:d,"aria-controls":e.isOpen?p:void 0,"aria-haspopup":u?void 0:a,"aria-expanded":e.isOpen?"true":"false",onPressStart:S,onPress:T,onHoverChange:F,onKeyDown:h,isOpen:e.isOpen},submenuProps:C,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:E}}}function qn(t,e){let{role:r="dialog"}=t,o=ae();o=t["aria-label"]?void 0:o;let n=i.useRef(!1);return i.useEffect(()=>{if(e.current&&!A(e.current,document.activeElement)){xe(e.current);let a=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(n.current=!0,e.current&&(e.current.blur(),xe(e.current)),n.current=!1)},500);return()=>{clearTimeout(a)}}},[e]),Kn(),{dialogProps:{...L(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||o,onBlur:a=>{n.current&&a.stopPropagation()}},titleProps:{id:o}}}function Ce(t){let e=ze(t),[r,o]=i.useState(null),[n,a]=i.useState([]),u=()=>{a([]),e.close()};return{focusStrategy:r,...e,open(d=null){o(d),e.open()},toggle(d=null){o(d),e.toggle()},close(){u()},expandedKeysStack:n,openSubmenu:(d,p)=>{a(b=>p>b.length?b:[...b.slice(0,p),d])},closeSubmenu:(d,p)=>{a(b=>b[p]===d?b.slice(0,p):b)}}}function Jn(t,e){let{triggerKey:r}=t,{expandedKeysStack:o,openSubmenu:n,closeSubmenu:a,close:u}=e,[c]=i.useState(o?.length),l=i.useMemo(()=>o[c]===r,[o,r,c]),[d,p]=i.useState(null),b=i.useCallback(P=>{p(P??null),n(r,c)},[n,c,r]),m=i.useCallback(()=>{p(null),a(r,c)},[a,c,r]),f=i.useCallback(P=>{p(P??null),l?m():b(P)},[m,b,l]);return i.useMemo(()=>({focusStrategy:d,isOpen:l,open:b,close:m,closeAll:u,submenuLevel:c,setOpen:()=>{},toggle:f}),[l,b,m,u,d,f,c])}const ue=i.createContext(null),He=i.createContext(null),Oo=i.forwardRef(function(e,r){[e,r]=Y(e,r,ue);let o=i.useContext(ee),n=ze(e),a=e.isOpen!=null||e.defaultOpen!=null||!o?n:o,u=yn(r,a.isOpen)||e.isExiting||!1,c=Cn(),{direction:l}=Ge();if(c){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),g.createElement(g.Fragment,null,d)}return a&&!a.isOpen&&!u?null:g.createElement(Xn,{...e,triggerRef:e.triggerRef,state:a,popoverRef:r,isExiting:u,dir:l})});function Xn({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:o,...n}){let a=i.useRef(null),u=i.useRef(null),c=i.useContext(He),l=c&&n.trigger==="SubmenuTrigger";var d;let{popoverProps:p,underlayProps:b,arrowProps:m,placement:f,triggerAnchorPoint:P}=Nn({...n,offset:(d=n.offset)!==null&&d!==void 0?d:8,arrowRef:a,groupRef:l?c:u},t),s=n.popoverRef,v=En(s,!!f)||n.isEntering||!1,x=Q({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:f,isEntering:v,isExiting:e}}),C=!n.isNonModal||n.trigger==="SubmenuTrigger",[h,S]=i.useState(!1);X(()=>{s.current&&S(C&&!s.current.querySelector("[role=dialog]"))},[s,C]),i.useEffect(()=>{h&&n.trigger!=="SubmenuTrigger"&&s.current&&!A(s.current,document.activeElement)&&xe(s.current)},[h,s,n.trigger]);let T=i.useMemo(()=>{let k=x.children;if(o)for(let B of o)k=g.createElement(B.Provider,{value:null},k);return k},[x.children,o]),F={...p.style,"--trigger-anchor-point":P?`${P.x}px ${P.y}px`:void 0,...x.style},E=g.createElement(_.div,{...w(L(n,{global:!0}),p),...x,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],ref:s,slot:n.slot||void 0,style:F,dir:n.dir,"data-trigger":n.trigger,"data-placement":f,"data-entering":v||void 0,"data-exiting":e||void 0},!n.isNonModal&&g.createElement(Le,{onDismiss:t.close}),g.createElement(Nr.Provider,{value:{...m,placement:f,ref:a}},T),g.createElement(Le,{onDismiss:t.close}));if(!l)return g.createElement(Ne,{...n,shouldContainFocus:h,isExiting:e,portalContainer:r},!n.isNonModal&&t.isOpen&&g.createElement("div",{"data-testid":"underlay",...b,style:{position:"fixed",inset:0}}),g.createElement("div",{ref:u,style:{display:"contents"}},g.createElement(He.Provider,{value:u},E)));var $;return g.createElement(Ne,{...n,shouldContainFocus:h,isExiting:e,portalContainer:($=r??c?.current)!==null&&$!==void 0?$:void 0},E)}const Yn=i.createContext({}),De=i.createContext(null),se=i.createContext(null),J=i.createContext(null),le=i.createContext(null);function wo(t){let e=Ce(t),r=i.useRef(null),{menuTriggerProps:o,menuProps:n}=Vn({...t,type:"menu"},e,r),[a,u]=i.useState(null),c=i.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);Ee({ref:r,onResize:c});let l=i.useRef(null);return g.createElement(K,{values:[[De,{...n,ref:l}],[ee,e],[J,e],[ue,{trigger:"MenuTrigger",triggerRef:r,scrollRef:l,placement:"bottom start",style:{"--trigger-width":a},"aria-labelledby":n["aria-labelledby"]}]]},g.createElement(Je,{...o,ref:r,isPressed:e.isOpen},t.children))}const mr=i.createContext(null);class gr extends Yr{filter(e,r,o){let n=e.getItem(this.firstChildKey);if(n&&o(n.textValue,this)){let a=this.clone();return r.addDescendants(a,e),a}return null}}gr.type="submenutrigger";const Fo=_e(gr,(t,e,r)=>{let{CollectionBranch:o}=i.useContext(ye),n=i.useContext(se),a=i.useContext(J),u=Jn({triggerKey:r.key},a),c=i.useRef(null),l=he(e),{parentMenuRef:d,shouldUseVirtualFocus:p}=i.useContext(mr),{submenuTriggerProps:b,submenuProps:m,popoverProps:f}=Zn({parentMenuRef:d,submenuRef:c,delay:t.delay,shouldUseVirtualFocus:p},u,l);return g.createElement(K,{values:[[j,{...b,onAction:void 0,ref:l}],[De,{ref:c,...m}],[ee,u],[ue,{trigger:"SubmenuTrigger",triggerRef:l,placement:"end top","aria-labelledby":m["aria-labelledby"],...f}]]},g.createElement(o,{collection:n.collection,parent:r}),t.children[1])},t=>t.children[0]),Io=i.forwardRef(function(e,r){return[e,r]=Y(e,r,De),g.createElement(Gr,{content:g.createElement(Zr,e)},o=>g.createElement(Qn,{props:e,collection:o,menuRef:r}))});function Qn({props:t,collection:e,menuRef:r}){[t,r]=Y(t,r,Be);let{filter:o,...n}=t,a=i.useMemo(()=>o?e.filter(o):e,[e,o]),u=vn({...t,collection:a,children:void 0}),c=i.useContext(J),{isVirtualized:l,CollectionRoot:d}=i.useContext(ye),{menuProps:p}=Un({...t,isVirtualized:l,onClose:t.onClose||c?.close},u,r),b=Q({...t,children:void 0,defaultClassName:"react-aria-Menu",values:{isEmpty:u.collection.size===0}}),m=null;u.collection.size===0&&t.renderEmptyState&&(m=g.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState()));let f=L(t,{global:!0});return g.createElement(Ze,null,g.createElement(_.div,{...w(f,b,p),ref:r,slot:t.slot||void 0,"data-empty":u.collection.size===0||void 0,onScroll:t.onScroll},g.createElement(K,{values:[[se,u],[jr,{elementType:"div"}],[Kr,{name:"MenuSection",render:vr}],[mr,{parentMenuRef:r,shouldUseVirtualFocus:n?.shouldUseVirtualFocus}],[j,{shouldCloseOnSelect:t.shouldCloseOnSelect}],[Be,null],[wr,null],[le,u.selectionManager],[J,c??Ce({})]]},g.createElement(_r,null,g.createElement(d,{collection:u.collection,persistedKeys:Hr(u.selectionManager.focusedKey),scrollRef:r}))),m))}class eo extends rn{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function vr(t,e,r,o="react-aria-MenuSection"){var n,a,u;let c=i.useContext(se),{CollectionBranch:l}=i.useContext(ye),[d,p]=Or();var b;let{headingProps:m,groupProps:f}=_n({heading:p,"aria-label":(b=r.props["aria-label"])!==null&&b!==void 0?b:void 0}),P=Q({...t,id:void 0,children:void 0,defaultClassName:o,className:(n=r.props)===null||n===void 0?void 0:n.className,style:(a=r.props)===null||a===void 0?void 0:a.style,values:void 0}),s=i.useContext(le),v=tn(t),x=t.selectionMode!=null?new eo(s,v):s,C=(u=Ue(j))===null||u===void 0?void 0:u.shouldCloseOnSelect,h=L(t,{global:!0});delete h.id;var S;return g.createElement(_.section,{...w(h,P,f),ref:e},g.createElement(K,{values:[[Ur,{...m,ref:d}],[le,x],[j,{shouldCloseOnSelect:(S=t.shouldCloseOnSelect)!==null&&S!==void 0?S:C}]]},g.createElement(l,{collection:c.collection,parent:r})))}const Lo=_e(Xr,vr),j=i.createContext(null),No=qr(Jr,function(e,r,o){var n;[e,r]=Y(e,r,j);let a=(n=Ue(j))===null||n===void 0?void 0:n.id,u=i.useContext(se),c=he(r),l=i.useContext(le),{menuItemProps:d,labelProps:p,descriptionProps:b,keyboardShortcutProps:m,...f}=zn({...e,id:a,key:o.key,selectionManager:l},u,c),{hoverProps:P,isHovered:s}=je({isDisabled:f.isDisabled}),v=Q({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:s,isFocusVisible:f.isFocusVisible,selectionMode:l.selectionMode,selectionBehavior:l.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),x=e.href?_.a:_.div,C=L(e,{global:!0});return delete C.id,delete C.onClick,g.createElement(x,{...w(C,v,d,P),ref:c,"data-disabled":f.isDisabled||void 0,"data-hovered":s||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":l.selectionMode==="none"?void 0:l.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},g.createElement(K,{values:[[Wr,{slots:{[ge]:p,label:p,description:b}}],[Yn,m],[zr,{isSelected:f.isSelected}]]},v.children))}),xr=i.createContext(null),ee=i.createContext(null);function Ko(t){let e=Ce(t),r=i.useRef(null),{triggerProps:o,overlayProps:n}=Xe({type:"dialog"},e,r),[a,u]=i.useState(null),c=i.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);return Ee({ref:r,onResize:c}),o.id=z(),n["aria-labelledby"]=o.id,g.createElement(K,{values:[[ee,e],[J,e],[xr,n],[ue,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":n["aria-labelledby"],style:{"--trigger-width":a}}]]},g.createElement(Je,{...o,ref:r,isPressed:e.isOpen},t.children))}const Ho=i.forwardRef(function(e,r){let o=e["aria-labelledby"];[e,r]=Y(e,r,xr);let{dialogProps:n,titleProps:a}=qn({...e,"aria-labelledby":o},r),u=i.useContext(ee);!n["aria-label"]&&!n["aria-labelledby"]&&e["aria-labelledby"]&&(n["aria-labelledby"]=e["aria-labelledby"]);let c=Q({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:u?.close||(()=>{})}}),l=L(e,{global:!0});return g.createElement(_.section,{...w(l,c,n),render:e.render,ref:r,slot:e.slot||void 0},g.createElement(K,{values:[[Fr,{slots:{[ge]:{},title:{...a,level:2}}}],[Tr,{slots:{[ge]:{},close:{onPress:()=>u?.close()}}}]]},c.children))});export{Ko as $,Vn as a,In as b,ee as c,ue as d,Ho as e,Rn as f,Tn as g,Kn as h,Le as i,Ne as j,xr as k,Io as l,wo as m,No as n,Lo as o,Fo as p,Oo as q};
